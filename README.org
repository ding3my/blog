* Blog
  
m-9 vimp返回最后一个tab
  
https://stackoverflow.com/questions/9387816/how-to-call-interactive-emacs-lisp-function-with-a-prefix-argument-from-another
匿名函数
#+BEGIN_SRC  
(call-interactively '(lambda ()
                       (interactive)
                       (flyspell-mode '(4))))
#+END_SRC
  
https://www.google.com/search?q=grub2+boot+fedora


如何解决sed不支持非贪婪*？
- https://www.google.com/search?q=sed+posix+match+replacement
- https://stackoverflow.com/questions/1103149/non-greedy-regex-matching-in-sed
perl -pe 's|(http://.*?/).*|\1|'

printf 孙 | iconv -f utf-8 -t gbk | od -h --endian=big
http://tool.haooyou.com/code?group=convert&type=strToHex&charset=GB2312

** DONE 如何emacs dired快速复制文件，类似windows的两个窗口的拖动？
   CLOSED: [2017-07-31 Mon 08:06]
？整理合并参考资料。
#+BEGIN_VERSE
https://www.google.com/#q=emacs+dired+current+directory+copy
https://emacs.stackexchange.com/questions/5603/how-to-quickly-copy-move-file-in-emacs-dired
(setq dired-dwim-target t)

#+END_VERSE
** DONE 如何emacs dired复制当前目录路径？
   CLOSED: [2017-07-31 Mon 08:12]
？整理合并参考资料。

#+BEGIN_VERSE
https://www.google.com/#q=emacs+dired+current+directory+copy
https://emacs.stackexchange.com/questions/17599/current-path-in-dired-or-dired-to-clipboard
Move the cursor to the directory header line (where the directory is shown - e.g., use M-<), then hit w.
you can just use C-0 w on any file or directory line.
#+END_VERSE
** DONE 什么是linux screen？
   CLOSED: [2017-07-28 Fri 14:17]
？代替gnome terminal。解决gnome terminal无法指定新建tab位置问题。

#+BEGIN_VERSE
https://www.google.com/search?q=linux+终端+推荐&ie=utf-8&oe=utf-8
https://www.zhihu.com/question/19888427
Linux 下大家喜欢什么 Terminal Emulator？为什么？
screen

https://www.zhihu.com/search?type=content&q=linux+终端+推荐
最值得推荐的 Linux 运维终端是什么？
screen
tmux

https://www.google.com/search?q=screen+vs+tmux&ie=utf-8&oe=utf-8
https://ruby-china.org/topics/4834
tmux不支持cygwin
#+END_VERSE

https://www.gnu.org/software/screen/
creen is a full-screen window manager that multiplexes a physical terminal between several processes, typically interactive shells. Each virtual terminal provides the functions of the DEC VT100 terminal and, in addition, several control functions from the ANSI X3.64 (ISO 6429) and ISO 2022 standards (e.g., insert/delete line and support for multiple character sets).
** 如何rpm --query --all检索按时间倒序排序？
？

#+BEGIN_VERSE
https://www.google.com/search?q=+rpm+sort+by+date&ie=utf-8&oe=utf-8
https://www.tummy.com/blogs/2007/10/31/getting-rpm-to-list-packages-by-install-date/
rpm -qa \
--queryformat '%{installtime} (%{installtime:date}) %{name}\n' | \
sort -n | tail -5

rpm --query --all --queryformat '%{installtime} (%{installtime:date}) %{name}\n' | sort --numeric-sort

rpm --querytags
https://www.google.com/search?q=rpm+manual+installtime
http://rpm.org/user_doc/query_format.html

:date  Use strftime(3) "%c" format.
man rpm /:date

#+END_VERSE
** 如何pip测试repo速度?
？安装scrapy。测试python环境。安装autokey。

** 如何解决pip install速度慢？
？安装scrapy。测试python环境。安装autokey。

#+BEGIN_VERSE
https://www.google.com/search?q=pip+网速+问题&ie=utf-8&oe=utf-8
http://blog.csdn.net/furzoom/article/details/53897318

#+END_VERSE

** 如何pip安装scrapy？
？测试python环境。安装autokey。

#+BEGIN_VERSE
proxychains4 pip3 install scrapy
No package 'libffi' found

proxychains4 sudo dnf install libffi
gcc: error: /usr/lib/rpm/redhat/redhat-hardened-cc1: No such file or directory

https://stackoverflow.com/questions/41925585/gcc-error-usr-lib-rpm-redhat-redhat-hardened-cc1-no-such-file-or-directory
sudo dnf install redhat-rpm-config

Running setup.py install for Twisted ... error
sudo pip3 install scrapy

#+END_VERSE
** 如何解决dnf list慢？
？安装autokey。

** 如何gnome取消相同程序进程的分组？
？解决多个emacs进程组切换时，调整尺寸时，依然粘在一起。

** 如何选择免费的私人git项目服务网站？
？备份配置。

** 如何firefox快速启动一个url？
？阅读文档？

#+BEGIN_VERSE
firefox $url

emacs m-!
#+END_VERSE
** DONE 如何emacs client修改title标题名？
   CLOSED: [2017-07-27 Thu 17:49]
？m-`切换多个emacs client。切换工作流程环境。

#+BEGIN_VERSE
man emacs
emacs --name $title
#+END_VERSE
** DONE 什么是常用软件的检索帮助文档方法？
   CLOSED: [2017-07-27 Thu 15:42]
？

#+BEGIN_VERSE
emacs
c-h k
c-h f
grep
find-name-dired
find-grep-dired
find-dired

vim
:help

firefox
Select Location Bar
bookmarks
find

shell
man
findt
grept

command
--help
#+END_VERSE
** 如何emacs跳转ls信息？
？解决find-grep-dired中grep信息过多。模拟搜索引擎检索文件。

** DONE 如何emacs lisp设置grep的默认值？
   CLOSED: [2017-07-27 Thu 13:48]
？模拟搜索引擎检索文件。

#+BEGIN_VERSE
grep.el
grep-command
"grep --color -nH -e "
#+END_VERSE
** DONE 如何emacs lisp设置find-name-dired的filename wildcard默认值？
   CLOSED: [2017-07-27 Thu 13:37]
？模拟搜索引擎检索文件。

#+BEGIN_VERSE
https://www.google.com/search?q=default+find-dired+emacs+arg
https://stackoverflow.com/questions/1836925/emacs-find-name-dired-how-to-change-default-directory
find-name-dired
(setq find-name-arg "-iname")

find-dired.el
find-args
#+END_VERSE
** DONE 如何emacs lisp设置find-dired的with arg默认值？
   CLOSED: [2017-07-27 Thu 13:37]
？模拟搜索引擎检索文件。

#+BEGIN_VERSE
https://stackoverflow.com/search?q=emacs+find-dired+arg
https://stackoverflow.com/questions/14602400/dired-m-x-find-dired-disable-history
find-args

find-dired.el
find-args
#+END_VERSE
** DONE 如何emacs使用find-grep-dired检索文件？
   CLOSED: [2017-07-27 Thu 12:15]
？模拟搜索引擎检索文件。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-and-Find.html#Dired-and-Find
30 Dired, the Directory Editor
30.16 Dired and find
#+END_VERSE
** 如何emacs lisp使用find-ls-option选项？
？配置find-grep-dired的选项。

#+BEGIN_VERSE

("-ls" . "-dilsb")

https://www.google.com/search?q=find-ls-option+emacs
https://stackoverflow.com/questions/14602291/dired-how-to-get-really-human-readable-output-find-ls-option

(setq find-ls-option '("-exec ls -ldhb {} +" . "-ldhb"))
find-grep-dired

  /home/yjr/prod/gtd/nonstf/act/proj/blog_pub/app/:
  find . \( -type f -exec grep -q -e \区\别 \{\} \; \) -exec ls -ldhb \{\} +
  -rw-rw-r--   1 yjr yjr        9.3K Jun 21 11:26 bash.org
  -rw-rw-r--   1 yjr yjr        9.6K Jun 21 11:26 linux.org
  
  find finished at Thu Jul 27 10:38:05

(setq find-ls-option '("-exec ls -ldhb {} +" . ""))
find-grep-dired

  /home/yjr/prod/gtd/nonstf/act/proj/blog_pub/app/:
  find . \( -type f -exec grep -q -e \区\别 \{\} \; \) -exec ls -ldhb \{\} +
  -rw-rw-r-- 1 yjr yjr 9.3K Jun 21 11:26 bash.org
  -rw-rw-r-- 1 yjr yjr 9.6K Jun 21 11:26 linux.org
  
  find finished at Thu Jul 27 10:40:22

(setq find-ls-option '("-exec ls -ldhb {} +" . ""))
find-dired

  /home/yjr/prod/gtd/nonstf/act/proj/blog_pub/app/:
  find . \( -type f -exec grep -q -e \区\别 \{\} \; \) -exec ls -ldhb \{\} +
  -rw-rw-r-- 1 yjr yjr 9.3K Jun 21 11:26 bash.org
  -rw-rw-r-- 1 yjr yjr 9.6K Jun 21 11:26 linux.org
  
  find finished at Thu Jul 27 10:43:38

(setq find-ls-option '("-exec ls -ldhb {} +" . "-ldhb"))
find-dired
  /home/yjr/prod/gtd/nonstf/act/proj/blog_pub/app/:
  find . \( -type f -exec grep -q -e \区\别 \{\} \; \) -exec ls -ldhb \{\} +
  -rw-rw-r--   1 yjr yjr        9.3K Jun 21 11:26 bash.org
  -rw-rw-r--   1 yjr yjr        9.6K Jun 21 11:26 linux.org
  
  find finished at Thu Jul 27 10:46:28

man find
-ls    True; list current file in ls -dils format on standard output.  The block counts are of 1K blocks, unless the environment variable POSIXLY_CORRECT is set,
              in which case 512-byte blocks are used.  See the UNUSUAL FILENAMES section for information about how unusual characters in filenames are handled.

#+END_VERSE
find-ls-option会新增
** DONE 如何eshell调用外部同名命令（例如grep）？
   CLOSED: [2017-07-27 Thu 10:13]
？配置find-grep-dired的选项。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/eshell/Built_002dins.html#Built_002dins
2 Commands
2.3 Built-in commands

Several commands are built-in in Eshell. In order to call the external variant of a built-in command foo, you could call *foo. Usually, this should not be necessary. You can check what will be applied by the which command: 

     ~ $ which ls
     ~ $ which *ls
#+END_VERSE

** DONE 如何linux安装dbus-1？
   CLOSED: [2017-07-27 Thu 15:11]
？安装autokey

#+BEGIN_VERSE
https://github.com/autokey-py3/autokey/issues/93
You need to install the dbus headers package (which are usually named -dev or -devel), as the dbus-python module compiles against it.

pip3 install git+https://github.com/autokey-py3/autokey
No package 'dbus-1' found
#+END_VERSE

** 如何解决dnf list未安装但是显示update？
？安装autokey

#+BEGIN_VERSE
dnf list | grep dbus-glib-devel
#+END_VERSE

** 如何pip解决"Command "/usr/bin/python3 -u -c ""报错？
？安装autokey

#+BEGIN_VERSE

#+END_VERSE
** DONE 如何pip安装模块？
   CLOSED: [2017-07-27 Thu 15:24]
？安装dbus-python。

#+BEGIN_VERSE
https://pip.pypa.io/en/stable/
https://pip.pypa.io/en/stable/reference/pip_install/
pip install
#+END_VERSE
** DONE 什么是pip install中git+https的含义？
   CLOSED: [2017-07-27 Thu 15:23]
？安装autokey。

#+BEGIN_VERSE
https://pip.pypa.io/en/stable/reference/
https://pip.pypa.io/en/stable/reference/pip_install/#usage
pip currently supports cloning over git, git+http, git+https, git+ssh, git+git and git+file:
#+END_VERSE
** DONE 什么是linux平台推荐的pdf阅读器？
   CLOSED: [2017-07-26 Wed 21:54]
？linux代替windows虚拟机。

#+BEGIN_VERSE
https://www.google.com/search?q=linux+pdf+reader
https://www.zhihu.com/question/19660329

zathura
evince
okular
foxit
firefox chrome

https://www.linux.com/news/3-alternatives-adobe-pdf-reader-linux
evince
okular
brower plugin
wine

https://linux.cn/article-7245-1.html
-1.Okular08%
-2.Evince23%
-3.Foxit Reader37%
-4.Firefox (PDF.JS)54%
-5.XPDF66%
-6.GNU GV
#+END_VERSE
** DONE 如何firefox打开pdf？
   CLOSED: [2017-07-26 Wed 21:42]
？linux代替windows虚拟机。

#+BEGIN_VERSE
https://www.google.com/search?q=firefox+open+local+pdf&ie=utf-8&oe=utf-8
https://support.mozilla.org/en-US/questions/1098980

file:///// try adding those "//" 
#+END_VERSE
** 什么是跨平台推荐的pdf阅读器？
？阅读pdf。

foxit
** 如何emacs lisp解决合并代码时括号和注释需要调整？
？添加shell切换为旧buffer时，合并cond代码。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.google.com/search?btnG=Google+搜索&q=emacs+lisp+parenthesis+comment
https://emacs.stackexchange.com/questions/14484/how-to-edit-elisp-without-getting-lost-in-the-parentheses

Emacs also has lots of built-in commands for dealing with sexps and lists that are worth learning and may help you get more used to the structure of lisp code. These are generally bound with a C-M- prefix, such as:

    C-M-f/C-M-b to move forward/backward by sexp
    C-M-n/C-M-p to move forward/backward by list
    C-M-u/C-M-d to move up/down one level
    C-M-t to swap the two sexps around point
    C-M-k to kill a sexp
    C-M-SPC to mark a sexp
    C-M-q to re-indent a sexp


#+END_VERSE
** DONE 如何emacs lisp解决"Wrong type argument: commandp, (lambda nil (find-file))"报错？
   CLOSED: [2017-07-26 Wed 14:45]
？开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.google.com/search?q=Wrong+type+argument:+commandp,+(lambda+nil+(find-file))&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/1250846/wrong-type-argument-commandp-error-when-binding-a-lambda-to-a-key

global-set-key expects an interactive command. (lambda () (interactive) (forward-line 5)) ought to work.

By the way, C-h f commandp is a pretty good starting point for errors like that.

#+END_VERSE
** TODO 如何emacs切换shell到当前buffer？
？开发快速切换shell、dired的插件。

#+BEGIN_VERSE
c-x b *shell*

#+END_VERSE

缺少引用。
** 如何vimp快速清空历史记录？
？解决错误缓存导致google无法访问。
** DONE 如何emacs lisp获取当前buffer（name或object）？
   CLOSED: [2017-07-26 Wed 17:00]
？切换shell buffer为旧的buffer。开发快速切换shell、dired的插件。


#+BEGIN_VERSE
https://www.google.com/search?q=emacs+get+buffer+current&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/elisp/Current-Buffer.html
26 Buffers
26.2 The Current Buffer

          (current-buffer)
               ⇒ #<buffer buffers.texi>

https://www.gnu.org/software/emacs/manual/html_node/elisp/Buffer-Names.html
26.3 Buffer Names

          (buffer-name)
               ⇒ "buffers.texi"
(equal "*shell*" (buffer-name))
#+END_VERSE
** DONE 如何emacs lisp判断object是否相同？
   CLOSED: [2017-07-26 Wed 16:32]
？判断window是否相同。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+judge+object+equal
https://www.gnu.org/software/emacs/manual/html_node/elisp/Equality-Predicates.html
2 Lisp Data Types
2.7 Equality Predicates

(eq old-win new-win)
#+END_VERSE

** DONE 如何emacs lisp获取当前window？
   CLOSED: [2017-07-26 Wed 15:32]
？开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+get+window&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/elisp/Buffers-and-Windows.html
27 Windows
27.11 Buffers and Windows

 — Function: get-buffer-window &optional buffer-or-name all-frames
#+END_VERSE
** DONE 如何emacs lisp判断buffer存在？
   CLOSED: [2017-07-26 Wed 15:25]
？开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+buffer+exist
https://stackoverflow.com/questions/586735/how-can-i-check-if-a-current-buffer-exists-in-emacs

(get-buffer name)

https://www.gnu.org/software/emacs/manual/html_node/elisp/Buffers.html#Buffers
26 Buffers
https://www.gnu.org/software/emacs/manual/html_node/elisp/Buffer-Names.html
26.3 Buffer Names

 — Function: get-buffer buffer-or-name

#+END_VERSE
** DONE 如何emacs lisp 使用define-key代替global-set-key？
   CLOSED: [2017-07-26 Wed 12:46]
？统一格式。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Key-Binding-Commands.html#Key-Binding-Commands
21.15 Commands for Binding Keys

— Command: global-set-key key binding

    This function sets the binding of key in the current global map to binding.

              (global-set-key key binding)
              ==
              (define-key (current-global-map) key binding)

https://www.gnu.org/software/emacs/manual/html_node/elisp/Controlling-Active-Maps.html#Controlling-Active-Maps
21.9 Controlling the Active Keymaps
global-map
#+END_VERSE
** DONE 如何emacs lisp定义快捷键？
   CLOSED: [2017-07-26 Wed 10:40]
？开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Changing-Key-Bindings.html
21.12 Changing Key Bindings

 — Function: define-key keymap key binding

https://www.gnu.org/software/emacs/manual/html_node/elisp/Key-Binding-Commands.html
21.15 Commands for Binding Keys

 — Command: global-set-key key binding

 — Command: local-set-key key binding
#+END_VERSE

#+BEGIN_SRC  
(define-prefix-command 'leader-map)
(global-set-key (kbd "<f12>") 'leader-map)

(define-key leader-map (kbd "<f12>") 'shell)
#+END_SRC
** DONE 什么是emacs lisp keymap？
   CLOSED: [2017-07-26 Wed 11:53]
？认知keymap。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Keymap-Basics.html#Keymap-Basics
21.2 Keymap Basics

A keymap is a Lisp data structure that specifies key bindings for various key sequences. 

If the binding of a key sequence is a keymap, we call the key sequence a prefix key. Otherwise, we call it a complete key (because no more events can be added to it). If the binding is nil, we call the key undefined. Examples of prefix keys are C-c, C-x, and C-x 4. Examples of defined complete keys are X, <RET>, and C-x 4 C-f. Examples of undefined complete keys are C-x C-g, and C-c 3. See Prefix Keys, for more details. 
#+END_VERSE

** DONE 什么是emacs lisp prefix key？
   CLOSED: [2017-07-26 Wed 11:03]
？认知keymap。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Keymap-Basics.html#Keymap-Basics
21.2 Keymap Basics
https://www.gnu.org/software/emacs/manual/html_node/elisp/Prefix-Keys.html#Prefix-Keys
21.6 Prefix Keys

A prefix key is a key sequence whose binding is a keymap. The keymap defines what to do with key sequences that extend the prefix key. For example, C-x is a prefix key, and it uses a keymap that is also stored in the variable ctl-x-map. This keymap defines bindings for key sequences starting with C-x. 
#+END_VERSE

** DONE 如何emacs lisp定义keymap symbol？
   CLOSED: [2017-07-26 Wed 11:22]
？定义prefix key。实现vim leader功能。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Prefix-Keys.html#Prefix-Keys
21.6 Prefix Keys

 — Function: define-prefix-command symbol &optional mapvar prompt
This function prepares symbol for use as a prefix key's binding: it creates a sparse keymap and stores it as symbol's function definition. Subsequently binding a key sequence to symbol will make that key sequence into a prefix key. The return value is symbol. 

(define-prefix-command 'leader-key-map)
#+END_VERSE

define-prefix-command实质是定义了keymap symbol。

需要了解keymap实质。
** DONE 如何emacs lisp定义prefix key前缀键？
   CLOSED: [2017-07-26 Wed 11:57]
？实现vim leader功能。开发快速切换shell、dired的插件。

#+BEGIN_VERSE
https://www.google.com/search?q=how+make+prefix+key+emacs&ie=utf-8&oe=utf-8
https://www.emacswiki.org/emacs/PrefixKey

(global-set-key (kbd "°") 'ring-map)

https://www.gnu.org/software/emacs/manual/html_node/elisp/Key-Binding-Commands.html#Key-Binding-Commands
21.15 Commands for Binding Keys

 — Command: global-set-key key binding
 — Command: local-set-key key binding

#+END_VERSE

** DONE 什么是emacs lisp global-set-key local-set-key的区别？
   CLOSED: [2017-07-26 Wed 12:41]
？定义prefix key。开发快速切换shell、dired的插件。

#+BEGIN_VERSE

https://www.gnu.org/software/emacs/manual/html_node/elisp/Controlling-Active-Maps.html
21.9 Controlling the Active Keymaps

 — Variable: global-map

    This variable contains the default global keymap that maps Emacs keyboard input to commands. The global keymap is normally this keymap. The default global keymap is a full keymap that binds self-insert-command to all of the printing characters.

    It is normal practice to change the bindings in the global keymap, but you should not assign this variable any value other than the keymap it starts out with. 

— Function: current-global-map

    This function returns the current global keymap. This is the same as the value of global-map unless you change one or the other. The return value is a reference, not a copy; if you use define-key or other functions on it you will alter global bindings. 

— Function: current-local-map

    This function returns the current buffer's local keymap, or nil if it has none. In the following example, the keymap for the *scratch* buffer (using Lisp Interaction mode) is a sparse keymap in which the entry for <ESC>, ASCII code 27, is another sparse keymap. 
#+END_VERSE

** DONE 如何emacs解决按键冲突或快捷键不够用的问题？
   CLOSED: [2017-07-26 Wed 10:25]
？开发快速切换shell、dired的插件。

#+BEGIN_VERSE
Vim实用技巧-Neil p109
<Leader>

http://vimdoc.sourceforge.net/htmldoc/help.html
http://vimdoc.sourceforge.net/htmldoc/map.html

*<Leader>* *mapleader*
To define a mapping which uses the "mapleader" variable, the special string
"<Leader>" can be used.  It is replaced with the string value of "mapleader".
If "mapleader" is not set or empty, a backslash is used instead.  Example:
	:map <Leader>A  oanother line<Esc>
Works like:
	:map \A  oanother line<Esc>
But after:
	:let mapleader = ","
It works like:
	:map ,A  oanother line<Esc>

Note that the value of "mapleader" is used at the moment the mapping is
defined.  Changing "mapleader" after that has no effect for already defined
mappings.
#+END_VERSE

vim的leader key。
** DONE 如何vim script使用if语句？
   CLOSED: [2017-07-25 Tue 23:51]
？测试vim if。分类vimp rc文件。

#+BEGIN_VERSE
http://vimdoc.sourceforge.net/htmldoc/help.html
http://vimdoc.sourceforge.net/htmldoc/eval.html
7.  Commands			|expression-commands|
:if {expr1}	

if 0
        echom "0"
else
        echom "else!"
endif
#+END_VERSE
** DONE 如何vim查看命令的help帮助信息？
   CLOSED: [2017-07-25 Tue 23:12]
？查看message帮助文档。分类vimp rc文件。

#+BEGIN_VERSE
http://vimdoc.sourceforge.net/htmldoc/help.html
|help.txt|	overview and quick reference (this file)

:help :message
#+END_VERSE
** DONE 如何vim查看message输出信息？
   CLOSED: [2017-07-25 Tue 23:12]
？测试vim if。分类vimp rc文件。

#+BEGIN_VERSE
https://www.google.com/search?q=vim+show+output+message
http://learnvimscriptthehardway.stevelosh.com/chapters/01.html
:echo "Hello, world!"
:echom "Hello again, world!"
You should see a list of messages. Hello, world! will not be in this list, but Hello again, world! will be in it.

:messages

http://vimdoc.sourceforge.net/htmldoc/help.html
http://vimdoc.sourceforge.net/htmldoc/message.html
|message.txt|	(error) messages and explanations
#+END_VERSE
** DONE 如何vim script编写helloworld？
   CLOSED: [2017-07-25 Tue 23:06]
？测试vim if。分类vimp rc文件。

#+BEGIN_VERSE
https://www.google.com/search?q=vim+script+helloworld&ie=utf-8&oe=utf-8
http://learnvimscriptthehardway.stevelosh.com/chapters/01.html

:echo "Hello, world!"

:echom "Hello again, world!"

:messages

http://vimdoc.sourceforge.net/htmldoc/help.html
http://vimdoc.sourceforge.net/htmldoc/eval.html
7.  Commands			|expression-commands|
:ec[ho] {expr1}
:echom[sg] {expr1}
#+END_VERSE
** 如何vimp编写vim的if语句？
？分类vimp rc文件。

#+BEGIN_VERSE

#+END_VERSE

** DONE 如何vimp取消映射？
   CLOSED: [2017-07-25 Tue 20:34]
？测试。设置/为firefox的检索（高亮所有）。

#+BEGIN_VERSE
11.1. Key mapping

unm:unmap:unm[ap] {lhs} {rhs}:
nun:nunmap:nun[map] {lhs} {rhs}:
vun:vunmap:vun[map] {lhs} {rhs}:
iu:iunmap:iu[nmap] {lhs} {rhs}:
cu:cunmap:cu[nmap] {lhs} {rhs}:

必须使用对应的命令来取消。
#+END_VERSE

** DONE 如何vimp重载.vimperatorrc文件？
   CLOSED: [2017-07-25 Tue 20:43]
？设置/为firefox的检索（高亮所有）。

#+BEGIN_VERSE
liberator://help/all#Command-line-mode
5. Command-line mode
Command-line mode is used to enter Ex commands (:) and text search patterns
(/ and ?).

:
source ~/.vimperatorrc
#+END_VERSE
** 如何emacs gui启动2个进程？
？测试init.el。分别用于检索环境和工作环境。

#+BEGIN_VERSE
https://www.google.com/search?q=启动+多个+emacs
https://github.com/lujun9972/emacs-document/blob/master/emacs-common/在单机上运行多个emacs守护进程.org

https://www.google.com/search?q=boot+multiple+emacs&ie=utf-8&oe=utf-8
https://www.emacswiki.org/emacs/EmacsAsDaemon

emacs --daemon

emacs
#+END_VERSE

缺少引用。
** 如何emacs gui启动时最大化？
？多frame工作。

#+BEGIN_VERSE
https://www.google.com/search?q=how+emacs+maximize
https://emacs.stackexchange.com/questions/2999/how-to-maximize-my-emacs-frame-on-start-up

(add-to-list 'default-frame-alist '(fullscreen . maximized))
#+END_VERSE

缺少引用。
** DONE 为什么emacs使用C-M-S才能调用isearch-forward-regexp，而不是C-M-s？
   CLOSED: [2017-07-25 Tue 18:40]
？测试。开发org检索标题函数。

#+BEGIN_VERSE
C-h f isearch-forward-regexp
C-M-s (translated from C-M-S-s) runs the command
#+END_VERSE

** DONE 如何emacs lisp插入文本到isearch-forward-regexp的minibuffer？
   CLOSED: [2017-07-25 Tue 17:16]
？开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+isearch-mode-hook+default
https://emacs.stackexchange.com/questions/2754/preset-search-isearch-string-from-command-line

(defun my-search-word ()
  (interactive)
  (isearch-forward nil 1)
  (isearch-yank-string "aa"))

(my-search-word)

(defun my-search-word ()
  (interactive)
  (isearch-forward-regexp nil 1)
  (isearch-yank-string "aa"))

(my-search-word)

https://stackoverflow.com/questions/18649336/emacs-isearch-forward-default-search-string
isearch-yank-internal
isearch-string
#+END_VERSE

问题在于 isearch-yank-string 特殊字符时会被自动转义。
** 如何emacs lisp使用isearch-yank-string时，不用转义？
？开发org检索标题函数。

#+BEGIN_VERSE
https://stackoverflow.com/questions/42979999/is-there-a-way-to-paste-a-right-regex-to-the-minibuffer-after-m-x-isearch-forwar

Isearch+
#+END_VERSE
** DONE 什么是emacs lisp的编码规范？
   CLOSED: [2017-07-25 Tue 13:51]
？使用cond形式时，缩进不规范。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+lisp+缩进+规范
https://emacs-china.org/t/emacs-lisp-mode/2300
https://mumble.net/~campbell/scheme/style.txt

    (define (factorial x)
      (if (< x 2)
          1
          (* x (factorial (- x 1)))))

    (+ (sqrt -1)
       (* x y)
       (+ p q))

    ((car x)                            ;Any Emacs
     (cdr x)
     foo)


    ("foo" "bar" "baz" "quux" "zot"
     "mumble" "frotz" "gargle" "mumph")

https://www.google.com/search?q=emacs+lisp+coding+style
https://github.com/bbatsov/emacs-lisp-style-guide

https://www.reddit.com/r/emacs/comments/585osx/emacs_lisp_style_guide/
https://github.com/bbatsov/emacs-lisp-style-guide

#+END_VERSE

** DONE 如何emacs lisp使用if else语句？
   CLOSED: [2017-07-25 Tue 12:59]
？根据提示语句插入文本。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+lisp+if+else&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/40694365/elisp-how-can-i-express-else-if

(cond (test-expression1 then-expression1)
      (test-expression2 then-expression2)
      (t else-expression2))

(cond (t
	   (message "1a")
	   (message "2b")))

https://www.gnu.org/software/emacs/manual/html_node/elisp/Conditionals.html
10.2 Conditionals

          (cond ((numberp x) x)
                ((stringp x) x)
                ((bufferp x)
                 (setq temporary-hack x) ; multiple body-forms
                 (buffer-name x))        ; in one clause
                ((symbolp x) (symbol-value x)))
#+END_VERSE

** DONE 如何emacs高亮lisp的括号？
   CLOSED: [2017-07-25 Tue 12:59]
？使用cond形式。根据提示语句插入文本。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+lisp+highlight+Parentheses
https://www.emacswiki.org/emacs/ShowParenMode

    M-x show-paren-mode RET

    (show-paren-mode 1)

    (setq show-paren-delay 0)
#+END_VERSE

** DONE 如何emacs lisp判断字符串相同？
   CLOSED: [2017-07-25 Tue 12:33]
？根据提示语句插入文本。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+lisp+judge+string+equal&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/elisp/Text-Comparison.html
4.5 Comparison of Characters and Strings

(string= "abc" "abc")
#+END_VERSE
** DONE 如何emacs lisp使用if语句？
   CLOSED: [2017-07-25 Tue 12:18]
？根据提示语句插入文本。开发org检索标题函数。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Conditionals.html
10.2 Conditionals

          (if 1
            'true
            'very-false)
#+END_VERSE

** DONE 如何emacs lisp获取minibuffer的提示语句？
   CLOSED: [2017-07-25 Tue 12:09]
？根据提示语句插入文本。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+get+minibuffer+prompt+message
https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Minibuffer.html
8.1 Using the Minibuffer

(defun foo () (insert (minibuffer-prompt)))
#+END_VERSE
一般提示语句后都有空格

** DONE 如何emacs lisp remove-hook取消lambda匿名函数？
   CLOSED: [2017-07-25 Tue 11:46]
？测试hook。插入文本到minibuffer。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+lambda+remove-hook
http://ergoemacs.org/emacs/emacs_avoid_lambda_in_hook.html

Problems of Using Lambda in Hook

    Lambda in hook is unreadable when reading value of a hook, such as in describe-variable or any keybinding help or log.
    Lambda in hook is cannot be removed using remove-hook.
#+END_VERSE

建议不使用lambda函数作为hook的函数。
** DONE 如何emacs lisp定义lambda函数？
   CLOSED: [2017-07-25 Tue 11:43]
？测试hook。插入文本到minibuffer。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+lambda+manual&oq=emcas+lambda+manual
https://www.gnu.org/software/emacs/manual/html_node/elisp/Lambda-Expressions.html

     (lambda (x)
       "Return the hyperbolic cosine of X."
       (* 0.5 (+ (exp x) (exp (- x)))))

(add-hook 'minibuffer-setup-hook
		  '(lambda () (insert "hi")))
#+END_VERSE

** DONE 如何emacs lisp插入文本到minibuffer？
   CLOSED: [2017-07-25 Tue 18:27]
？插入文本到minibuffer。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+insert+to+minibuffer&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/36118899/inserting-text-into-an-active-minibuffer

(defun foo () (insert "ABCDE"))

(add-hook 'minibuffer-setup-hook 'foo)

https://www.gnu.org/software/emacs/manual/html_node/elisp/Minibuffer-Misc.html
19.14 Minibuffer Miscellany

— Variable: minibuffer-setup-hook

    This is a normal hook that is run whenever the minibuffer is entered. See Hooks. 

https://www.google.com/search?q=emacs+isearch-yank-string+escape
https://superuser.com/questions/221829/in-emacs-why-can-i-not-paste-text-c-y-into-a-c-s-search-box
    Esc-W // To copy of the selected text into buffer
    Ctrl-s Then press return.
    Ctrl-y Then press return. // To paste selected text

#+END_VERSE

** DONE 如何emacs lisp remove-hook？
   CLOSED: [2017-07-25 Tue 11:16]
？测试hook。开发org检索标题函数。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Setting-Hooks.html
22.1.2 Setting Hooks

 — Function: remove-hook hook function &optional local

(remove-hook 'isearch-mode-hook 'foo)
#+END_VERSE

** DONE 如何emacs lisp模拟键盘输入字符？
   CLOSED: [2017-07-25 Tue 10:49]
？插入文本到minibuffer。开发org检索标题函数。

#+BEGIN_VERSE
https://www.gnu.org/software/emacs/manual/html_node/elisp/Insertion.html#Insertion
31.4 Inserting Text

 — Function: insert &rest args

(insert "hi")
#+END_VERSE

** DONE 什么是emacs interactive函数含义？
   CLOSED: [2017-07-25 Tue 00:36]
？理解isearch-forward-regexp源代码。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+interactive
https://www.gnu.org/software/emacs/manual/html_node/elisp/Using-Interactive.html

This section describes how to write the interactive form that makes a Lisp function an interactively-callable command, and how to examine a command's interactive form. 

https://www.gnu.org/software/emacs/manual/html_node/elisp/Interactive-Codes.html
20.2.2 Code Characters for interactive
#+END_VERSE

** DONE 什么是emacs interactive P含义？
   CLOSED: [2017-07-25 Tue 00:36]
？理解isearch-forward-regexp源代码。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+interactive
https://www.gnu.org/software/emacs/manual/html_node/elisp/Using-Interactive.html

The code letter ‘P’ sets the command's first argument to the raw command prefix (see Prefix Command Arguments)

https://www.gnu.org/software/emacs/manual/html_node/elisp/Prefix-Command-Arguments.html#Prefix-Command-Arguments
20.12 Prefix Command Arguments

https://www.google.com/search?q=emacs+interactive+p
https://emacs.stackexchange.com/questions/13886/what-is-a-raw-prefix-argument-capital-p-in-interactive
https://www.gnu.org/software/emacs/manual/html_node/elisp/Interactive-Codes.html
20.2.2 Code Characters for interactive

‘p’
    The numeric prefix argument. (Note that this ‘p’ is lower case.) No I/O.
‘P’
    The raw prefix argument. (Note that this ‘P’ is upper case.) No I/O. 

#+END_VERSE
** DONE 如何emacs运行当前buffer所有lisp代码？
   CLOSED: [2017-07-25 Tue 00:12]
？测试emacs interactive函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+run+buffer+all+&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Eval.html

M-x eval-region
    Evaluate all the Emacs Lisp expressions in the region.
M-x eval-buffer
    Evaluate all the Emacs Lisp expressions in the buffer. 
#+END_VERSE
** DONE 如何emacs c-x c-e调用interactive交互函数？
   CLOSED: [2017-07-24 Mon 22:52]
？使用c-x c-e测试interactive交互函数。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=how+emacs+call+interactive+function&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/elisp/Interactive-Call.html

(call-interactively 'foo)
#+END_VERSE
** TODO 如何emacs lisp调用interactive交互函数时，输入参数？
？测试interactive交互函数。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+call+function
https://www.gnu.org/software/emacs/manual/html_node/elisp/Calling-Functions.html

The most common way of invoking a function is by evaluating a list. For example, evaluating the list (concat "a" "b") calls the function concat with arguments "a" and "b". See Evaluation, for a description of evaluation. 

(defun test (input)
  (interactive "MInput: ")
  (message "%s" input))

(test "hah") ; ok

(funcall 'test "hah") ; ok
#+END_VERSE

缺少引用。
** DONE 如何emacs使用正则表达式替换(M-% query-replace)？
   CLOSED: [2017-07-24 Mon 21:17]
？删除blog文档中多余的空格缩进。定义函数。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+query+replace+regexp&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/677021/emacs-regular-expression-replacing-to-change-case

M-x query-replace-regexp
#+END_VERSE

#+BEGIN_VERSE
https://www.google.com/search?q="query-replace-regexp"
https://www.gnu.org/software/emacs/manual/html_node/emacs/Query-Replace.html

C-M-% performs regexp search and replace (query-replace-regexp). It works like replace-regexp except that it queries like query-replace. 
#+END_VERSE

** DONE 如何emacs定义函数？
   CLOSED: [2017-07-24 Mon 22:17]
？开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+def+function&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/elisp/Defining-Functions.html
12.4 Defining Functions

(defun bar (a &optional b &rest c)
  (list a b c))
#+END_VERSE
** DONE 什么是emacs lisp &rest的含义？
   CLOSED: [2017-07-24 Mon 22:16]
？定义函数。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+&rest&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/elisp/Argument-List.html
12.2.3 Other Features of Argument Lists

There may be actual arguments for zero or more of the optional-vars, and there cannot be any actual arguments beyond that unless the lambda list uses &rest. In that case, there may be any number of extra actual arguments. 
#+END_VERSE

** DONE 什么是emacs lisp &optional的含义？
   CLOSED: [2017-07-24 Mon 22:01]
？定义函数。开发org检索标题函数。

#+BEGIN_VERSE
https://www.google.com/search?q=elisp+optional&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/eintr/Optional-Arguments.html
5.3.1 Optional Arguments

https://www.gnu.org/software/emacs/manual/html_node/elisp/Argument-List.html
12.2.3 Other Features of Argument Lists

However, optional arguments are a feature of Lisp: a particular keyword is used to tell the Lisp interpreter that an argument is optional. The keyword is &optional. (The ‘&’ in front of ‘optional’ is part of the keyword.) In a function definition, if an argument follows the keyword &optional, no value need be passed to that argument when the function is called. 

(defun beginning-of-buffer (&optional arg)
  "documentation..."
  (interactive "P")
  (or (is-the-argument-a-cons-cell arg)
      (and are-both-transient-mark-mode-and-mark-active-true)
      (push-mark))
  (let (determine-size-and-set-it)
  (goto-char
    (if-there-is-an-argument
        figure-out-where-to-go
      else-go-to
      (point-min))))
   do-nicety

#+END_VERSE
** DONE 什么是emacs init.el在windows的位置？
   CLOSED: [2017-07-24 Mon 20:03]
？开发emacs init文件工具。兼容windows

#+BEGIN_VERSE
https://www.google.com/search?q=emacs+windows+configuration&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/efaq-w32/Location-of-init-file.html

Use the user's AppData directory, usually a directory called AppData under the user's profile directory, the location of which varies according to Windows version and whether the computer is part of a domain. 

~\AppData\Roaming\.emacs.d
默认没有init.el，可以自行创建。
#+END_VERSE
** DONE 如何python调用shell命令？
   CLOSED: [2017-07-26 Wed 21:31]
？开发firefoxt工具。阅读pdf。

#+BEGIN_VERSE
https://www.google.com/search?q=python+call+shell+command&ie=utf-8&oe=utf-8
https://unix.stackexchange.com/questions/238180/execute-shell-commands-in-python

import os
os.system('ls')

https://docs.python.org/2/library/os.html
15.1. os — Miscellaneous operating system interfaces
 os.system(command)
#+END_VERSE

缺少引用。
** DONE 如何python转换相对路径为绝对路径？
   CLOSED: [2017-07-26 Wed 21:30]
？解决firefox打开需要绝对路径。阅读pdf。

#+BEGIN_VERSE
https://www.google.com/search?q=python+convert+relative+path+to+absolute
https://stackoverflow.com/questions/51520/how-to-get-an-absolute-file-path-in-python

import os
os.path.abspath("mydir/myfile.txt")

https://docs.python.org/2/library/os.path.html
10.1. os.path — Common pathname manipulations

os.path.abspath(path)

    Return a normalized absolutized version of the pathname path. On most platforms, this is equivalent to calling the function normpath() as follows: normpath(join(os.getcwd(), path)).
#+END_VERSE
** DONE 如何python获取参数？
   CLOSED: [2017-07-24 Mon 19:32]
？开发emacs init文件工具。获取操作码。

#+BEGIN_VERSE
https://www.google.com/search?q=python+get+args
https://stackoverflow.com/questions/4033723/how-do-i-access-command-line-arguments-in-python

import sys

print(sys.argv)
#+END_VERSE

#+BEGIN_VERSE
https://docs.python.org/2/library/sys.html
sys.argv
#+END_VERSE

** DONE 如何python使用if？
   CLOSED: [2017-07-24 Mon 18:55]
？开发emacs init文件工具。

#+BEGIN_VERSE
https://docs.python.org/2/reference/compound_stmts.html#the-if-statement

if_stmt ::=  "if" expression ":" suite
             ( "elif" expression ":" suite )*
             ["else" ":" suite]
#+END_VERSE

** DONE 如何python解决读取文件输出多余的换行符？
   CLOSED: [2017-07-24 Mon 20:18]
？开发emacs init文件工具。

#+BEGIN_VERSE
https://www.google.com/search?q=python+read+file+print+two+new+line
https://stackoverflow.com/questions/18028504/python-is-adding-extra-newline-to-the-output

print(…, end='')
#+END_VERSE

#+BEGIN_VERSE
https://docs.python.org/2/library/functions.html
https://docs.python.org/2/library/functions.html#print

print(*objects, sep=' ', end='\n', file=sys.stdout)
#+END_VERSE
** DONE 如何python展开波浪线（用户目录）？
   CLOSED: [2017-07-24 Mon 20:18]
？开发emacs init文件工具。

#+BEGIN_VERSE
https://www.google.com/search?q=python+path+tilde&ie=utf-8&oe=utf-8
my_dir = os.path.expanduser('~/some_dir')
#+END_VERSE

#+BEGIN_VERSE
https://docs.python.org/2/library/os.path.html#os.path.expanduser
os.path.expanduser(path)
#+END_VERSE

** DONE 如何python读取文件？
   CLOSED: [2017-07-24 Mon 20:18]
？开发emacs init文件工具。

#+BEGIN_VERSE
https://www.google.com/search?q=python+manual&ie=utf-8&oe=utf-8
https://docs.python.org/2/index.html
https://docs.python.org/2/library/index.html
https://docs.python.org/2/library/stdtypes.html#file-objects
#+END_VERSE

#+BEGIN_SRC  
f = open("hello.txt")
try:
    for line in f:
        print line, # 可以切换为print函数形式
finally:
    f.close()
#+END_SRC
** DONE 如何emacs eshell快速打开文件？
   CLOSED: [2017-07-24 Mon 18:08]
？使用eshell代替zsh。

#+BEGIN_VERSE
https://www.google.com/search?q=eshell+quickly+open+file&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/4903060/how-to-open-file-in-emacs-via-eshell
find-file <filename>
#+END_VERSE
** DONE 如何linux切换python版本？
   CLOSED: [2017-07-24 Mon 18:08]
？测试python脚本的shebang。

#+BEGIN_VERSE
https://www.google.com/search?q=linux+change+python+version&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/19256127/two-versions-of-python-on-linux-how-to-make-2-7-the-default

sudo cp /usr/bin/python /usr/bin/python-backup # 备份
sudo ln --symbolic /usr/bin/python3 /usr/bin/python --force # --force解决python文件已存在
#+END_VERSE

测试（chmod +x 添加执行权限）
#+BEGIN_SRC  
#!/usr/bin/env python
import sys
print(sys.version)
#+END_SRC

** DONE 什么是python正确的shebang？
   CLOSED: [2017-07-24 Mon 18:08]
？开发emacs init文件工具。

#+BEGIN_VERSE
https://www.google.com/search?q=python+shebang&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/6908143/should-i-put-shebang-in-python-scripts-and-what-form-should-it-take

#!/usr/bin/env python
#+END_VERSE
** 如何emacs lisp关闭或杀死buffer？
？测试。解决emacs切换shell到其他buffer的问题。

#+BEGIN_VERSE

#+END_VERSE

** DONE 如何emacs dired切换shell时，shell目录为dired的当前目录？
   CLOSED: [2017-07-17 Mon 20:03]
？开发ken_script项目，git push时切换（dired不支持git输入帐号密码）

#+BEGIN_SRC  
https://www.google.com/search?q=emacs+shell+dired+current+dir
https://emacs.stackexchange.com/questions/5676/how-can-i-keep-dired-in-sync-with-a-shell-buffer

(add-hook 'dired-after-readin-hook (lambda()
                     (unless (get-buffer "*shell*") (shell "*shell*"))
                     (process-send-string (get-buffer "*shell*") (format "cd %s\n" default-directory))
                     (message "Switched to new directory")))
#+END_SRC

** 为什么emacs的manual pdf和html的目录不一致？
？emacs --batch和--script需要引用。
** 如何emacs使用elisp脚本转换org文档为html？
？--batch不如--script通用，使用移动设备阅读org文档。

可移植性shebang（windows中使用emacs --script可用）
#+BEGIN_SRC  
https://www.google.com/search?q=emacs+命令行+elisp+脚本
https://github.com/xuchunyang/blog/blob/master/posts/2016/06/Emacs-Lisp-as-script-language.org
#+END_SRC

直接使用(org-html-export-to-html)，报错
#+BEGIN_SRC  
Symbol’s function definition is void: org-html-export-to-html
#+END_SRC
** DONE 如何emacs使用elisp函数转换org文档为html？
   CLOSED: [2017-07-17 Mon 17:51]
？使用移动设备阅读org文档。

#+BEGIN_SRC  
https://www.google.com/search?q=emacs+lisp+bash++org+html
https://stackoverflow.com/questions/22072773/batch-export-of-org-mode-files-from-the-command-line

emacs myorgfile.org --batch -f org-html-export-to-html --kill

emacs t.org -f org-html-export-to-html
#+END_SRC

参考
#+BEGIN_SRC  
https://www.google.com/search?q=emacs+manual+funcall&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_mono/emacs.html
C.1 Action Arguments
https://www.gnu.org/software/emacs/manual/pdf/emacs.pdf
C.1    Action Arguments
#+END_SRC
** DONE 如何linux bash运行emacs lisp脚本？
   CLOSED: [2017-07-17 Mon 16:03]
？转换org文档为html。

#+BEGIN_SRC  
https://www.google.com/search?q=emacs+lisp+script+cli&ie=utf-8&oe=utf-8
http://ergoemacs.org/emacs/elisp_running_script_in_batch_mode.html

emacs --script process_log.el

https://www.google.com/search?q=emacs+--script+manual&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html
#+END_SRC

t.el
#+BEGIN_SRC  
(message "hi")
#+END_SRC

#+BEGIN_SRC  
emacs --script t.el # windows也能用
#+END_SRC
** 如何gnome terminal解决emacs c-m-s快捷键无法使用正则检索功能（m被占用）？
** 如何bash使用bool变量？
？判断目录是否被挂载，用于挂载安卓设备。

** 如何linux mount安卓设备？
？复制gtd目录。

#+BEGIN_SRC  
https://www.google.com/search?q=android+linux+mount
simple-mtpfs -l

https://github.com/phatina/simple-mtpfs

mount1
simple-mtpfs mountpoint [options]
simple-mtpfs --device <number> mountpoint

unmount
fusermount -u <mountpoint>
#+END_SRC

simple-mtpfs不稳定。

** DONE 如何linux fusermount -u解决Device or resource busy？
   CLOSED: [2017-07-17 Mon 13:46]
？卸载已挂载安卓的目录。

#+BEGIN_SRC  
https://www.google.com/search?q=Device+or+resource+busy
https://unix.stackexchange.com/questions/11238/how-to-get-over-device-or-resource-busy

lsof +D /path
kill -9
#+END_SRC

** 如何linux切换shell？
？切换zsh为bash。

** 如何emacs org检索标题？
？解决内容检索慢问题。

^\*.*key.*
** 什么是linux发布规则？
？发布ahk_foxit，需要标注foxit版本号。

ahk_foxit
AHK script for pdf reader FoxitReader-8.1
#+BEGIN_SRC  
Unix编程艺术 p444

foo-1.2.3.tar.gz
#+END_SRC
** 如何emacs快速部署到windows？
？开发ahk foxit。
** 如何emacs定义宏？
？开发ahk foxit，需要批量转换send,为send % "

** DONE 什么bash和python的区别？
   CLOSED: [2017-07-24 Mon 20:17]
？使用python代替bash作为脚本（emacs调用）。

#+BEGIN_VERSE
https://www.google.com/search?q=python+历史
http://www.cnblogs.com/vamei/archive/2013/02/06/2892628.html

Bourne Shell作为UNIX系统的解释器(interpreter)已经长期存在。UNIX的管理员们常常用shell去写一些简单的脚本，以进行一些系统维护的工作，比如定期备份、文件系统管理等等。shell可以像胶水一样，将UNIX下的许多功能连接在一起。许多C语言下上百行的程序，在shell下只用几行就可以完成。然而，shell的本质是调用命令。它并不是一个真正的语言。比如说，shell没有数值型的数据类型，加法运算都很复杂。总之，shell不能全面的调动计算机的功能。
#+END_VERSE

** DONE 如何linux gnome更换terminal的颜色主题？
   CLOSED: [2017-07-16 Sun 10:22]
？解决gnome-terminal默认主题刺眼（黑白，参考emacs的dark系列）

#+BEGIN_SRC  
https://www.google.com/search?q=gnome+terminal+theme&ie=utf-8&oe=utf-8
https://help.gnome.org/users/gnome-terminal/stable/app-colors.html.en

Select Edit ▸ Profile Preferences ▸ Colors.

solarized dark
#+END_SRC
** 如何emacs将选中区域作为bash shell命令的参数？
？使用firefox打开选中的链接。

** DONE 如何emacs转换编码（ansi模式的gbk编码为utf-8编码）？
   CLOSED: [2017-07-15 Sat 19:51]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码。

#+BEGIN_SRC  
emacs编码操作参考集合
https://www.google.com/search?q=emacs+convert+encoding
http://ergoemacs.org/emacs/emacs_encoding_decoding_faq.html

How to open a file with specific coding system?
Open it normally, then Alt+x revert-buffer-with-coding-system, then type a coding system. Press Tab to list possible ones.

How to set a encoding system for saving file?
Alt+x set-buffer-file-coding-system, then type the encoding system you want. Press Tab to see a list of possible values.
After you set a encoding system, you can save the file and it'll be saved in the new encoding system.
#+END_SRC

综上，正确流程是，emacs使用revert-buffer-with-coding-system设置正确的编码（和文件一致的编码），解码文件（已打开），然后使用set-buffer-file-coding-system去转换当前显示的内容的编码，保存到文件（此时文件编码就是转换后的编码了）。

** DONE 为什么emacs转换编码时，首先需要使用正确的编码（和文件一致的编码）打开（解码）文件？
   CLOSED: [2017-07-15 Sat 19:46]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码。

#+BEGIN_SRC  
如果emacs使用错误的编码（和文件不一致的编码）打开（解码）文件，会得到错误的内容显示（逻辑上错误，物理上正确），此时再把错误的内容转换编码，依然是错误的。
#+END_SRC

案例：
#+BEGIN_SRC  
# LANG=en_US.UTF-8 # locale

# 生成gbk编码的"你好"文件t
echo 你好 | iconv --from-code=utf-8 --to-code=gbk > t

# emacs使用utf-8（错误的编码），解码打开文件t（文件编码是gbk）
emacs -nw t
revert-buffer-with-coding-system utf-8
显示：ÄãºÃ

# emacs将utf-8解码的文本"ÄãºÃ"（文件编码是gbk）转换编码为utf-8，使用gbk去解码打开文件t（文件编码是utf-8）
set-buffer-file-coding-system utf-8
revert-buffer-with-coding-system gbk # 错误的编码
显示：脛茫潞脙

已经不是"你好"了。
#+END_SRC

** DONE 如何linux转换文件编码（utf-8转换为gbk）？
   CLOSED: [2017-07-15 Sat 19:46]
？论证emacs转换编码的正确流程（为什么emacs转换编码时，首先需要使用正确的编码（和文件一致的编码）打开（解码）文件？）

#+BEGIN_SRC  
# LANG=en_US.UTF-8 # locale

# 生成gbk编码的"你好"文件t
echo 你好 | iconv --from-code=utf-8 --to-code=gbk > t
#+END_SRC

** DONE 如何linux检索当前环境的编码（shell）？
   CLOSED: [2017-07-15 Sat 19:19]
？论证emacs转换编码的正确流程（为什么emacs转换编码时，首先需要使用正确的编码（和文件一致的编码）打开（解码）文件？）

#+BEGIN_SRC  
locale
https://www.google.com/search?q=linux+check+current+encoding&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/5306153/how-to-get-terminals-character-encoding
locale

LC_ALL=$encoding $cmd
https://www.google.com/search?q=LC_ALL&ie=utf-8&oe=utf-8
https://unix.stackexchange.com/questions/87745/what-does-lc-all-c-do
$ LC_ALL=es_ES man
¿Qué página de manual desea?
$ LC_ALL=C man
What manual page do you want?

LC_ALL=C含义
https://www.google.com/search?q=LC_ALL+c+mean
https://askubuntu.com/questions/801933/what-does-c-in-lc-all-c-mean
'C' is the old UNIX default, which is 127-bit ASCII with a charmap setting of ANSI_X3.4-1968.

LC_ALL=C含义（来源）
http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap07.html#tag_07_02
The POSIX locale can be specified by assigning to the appropriate environment variables the values "C" or "POSIX".

LC_ALL=C含义
https://www.google.com/search?q=POSIX+charset
https://en.wikipedia.org/wiki/Portable_character_set

LC_ALL和LANG优先级的关系
https://www.google.com/search?q=LC_ALL
https://my.oschina.net/luan/blog/79875
LC_ALL和LANG优先级的关系： LC_ALL > LC_* >LANG   

LC_ALL和LANG优先级的关系（来源）
https://www.gnu.org/software/bash/manual/bash.html#Bash-Variables
LC_ALL
    This variable overrides the value of LANG and any other LC_ variable specifying a locale category.
#+END_SRC

locale
** DONE 如何emacs查看文件的编码（不是emacs解码（查看）用的编码）？
   CLOSED: [2017-07-15 Sat 13:27]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码。

#+BEGIN_SRC  
https://www.google.com/search?q=emacs+check+file+encoding&ie=utf-8&oe=utf-8
http://ergoemacs.org/emacs/emacs_encoding_decoding_faq.html

How to find out what's the current coding system used for opening and saving files?

Alt+x describe-coding-system then press Enter ↵.
#+END_SRC

#+BEGIN_SRC  
https://www.google.com/search?q=emacs+detect+file+encoding&ie=utf-8&oe=utf-8
https://www.gnu.org/software/emacs/manual/html_node/emacs/Recognize-Coding.html

Whenever Emacs reads a given piece of text, it tries to recognize which coding system to use. This applies to files being read, output from subprocesses, text from X selections, etc. Emacs can select the right coding system automatically most of the time—once you have specified your preferences. 
#+END_SRC

综上，emacs是自动检测。

** DONE 如何linux检测查看文件的编码？
   CLOSED: [2017-07-15 Sat 20:00]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码。

#+BEGIN_SRC  
https://www.google.com/search?q=linux+detect+encoding
https://stackoverflow.com/questions/805418/how-to-find-encoding-of-a-file-in-unix-via-scripts
https://unix.stackexchange.com/questions/11602/how-can-i-test-the-encoding-of-a-text-file-is-it-valid-and-what-is-it

file -i $file
#+END_SRC

综上，使用file命令，但不一定准确（问题显示charset表示的是编码而不是字符集。）
** DONE 如何emacs指定编码（encoding）来解码查看（decoding）文件？
   CLOSED: [2017-07-15 Sat 10:36]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码。

#+BEGIN_SRC  
https://www.google.com/search?q=how+emacs+check+file+encoding&ie=utf-8&oe=utf-8
http://ergoemacs.org/emacs/emacs_encoding_decoding_faq.html

Open it normally, then Alt+x revert-buffer-with-coding-system, then type a coding system. Press Tab to list possible ones.
#+END_SRC

使用函数revert-buffer-with-coding-system，快捷键C-x RET r。
** DONE 什么是ansi编码和gbk编码的区别？
   CLOSED: [2017-07-15 Sat 11:51]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码。windows7中文默认ansi编码（notepad++）

#+BEGIN_SRC  
https://www.google.com/search?q=ansi+wiki
https://en.wikipedia.org/wiki/ANSI_character_set

The phrase ANSI character set has no official meaning and has been used to refer to the following, among other things:

https://en.wikipedia.org/wiki/Windows_code_page

Windows code pages are sets of characters or code pages (known as character encodings in other operating systems) used in Microsoft Windows from the 1980s and 1990s. Windows code pages were gradually superseded when Unicode was implemented in Windows, although they are still supported both within Windows and other platforms.
#+END_SRC

#+BEGIN_SRC  
https://www.google.com/search?q=ansi+gbk&ie=utf-8&oe=utf-8
https://www.zhihu.com/question/20650946

所以，跨平台兼容性最好的其实就是不用记事本。
建议用 Notepad++ 等正常的专业文本编辑器保存为不带 BOM 的 UTF-8。

比如 ASCII 这部标准本身就直接规定了字符和字符编码的方式，所以既是字符集又是编码方案；而 GB 2312 只是一个区位码形式的字符集标准，不过实际上基本都用 EUC-CN 来编码，所以提及「GB 2312」时也说的是一个字符集和编码连锁的方案；GBK 和 GB 18030 等向后兼容于 GB 2312 的方案也类似。

Windows 里说的「ANSI」其实是 Windows code pages，这个模式根据当前 locale 选定具体的编码，比如简中 locale 下是 GBK。把自己这些 code page 称作「ANSI」是 Windows 的臭毛病。在 ASCII 范围内它们应该是和 ASCII 一致的。
https://en.wikipedia.org/wiki/Windows_code_page
#+END_SRC

#+BEGIN_SRC  
https://www.google.com/search?q=EUC-CN&ie=utf-8&oe=utf-8
https://en.wikipedia.org/wiki/Extended_Unix_Code

Extended Unix Code (EUC) is a multibyte character encoding system used primarily for Japanese, Korean, and simplified Chinese.
#+END_SRC

综上
- ansi是一种系统，不是字符集，也不是编码算法，是根据locale来确定字符集和编码算法。
- gbk是一种字符集，使用euc编码算法。
** DONE 什么是字符集（character set）和编码(encoding)的区别？
   CLOSED: [2017-07-15 Sat 11:20]
？解决windows下开发富甲天下3V5的ahk宏，注释乱码（什么是ansi编码和gbk编码的区别？）。

#+BEGIN_SRC  
https://www.google.com/search?q=Character+set
https://en.wikipedia.org/wiki/Character_encoding

In computing, a character encoding is used to represent a repertoire of characters by some kind of encoding system.

A character set is a collection of characters that might be used by multiple languages.
#+END_SRC

#+BEGIN_SRC  
https://www.google.com/search?q=character+set+encoding+difference&ie=utf-8&oe=utf-8
http://www.grauw.nl/blog/entry/254

In these two terms, ‘set’ refers to the set of characters and their numbers (code points), and ‘encoding’ refers to the representation of these code points. For example, Unicode is a character set, and UTF-8 and UTF-16 are different character encodings of Unicode.
#+END_SRC

#+BEGIN_SRC  
https://www.google.com/search?q=ansi+gbk&ie=utf-8&oe=utf-8
https://www.zhihu.com/question/20650946

关于字符集（character set）和编码（encoding），某几篇答案中似乎有些混淆。

对于 ASCII、GB 2312、Big5、GBK、GB 18030 之类的遗留方案来说，基本上一个字符集方案只使用一种编码方案。

对于 Unicode，字符集和编码是明确区分的。Unicode/UCS 标准首先是个统一的字符集标准。而 Unicode/UCS 标准同时也定义了几种可选的编码方案，在标准文档中称作「encoding form」，主要包括 UTF-8、UTF-16 和 UTF-32。
#+END_SRC

#+BEGIN_SRC  
https://www.google.com/search?q=utf-8字符集
http://cenalulu.github.io/linux/character-encoding/
#+END_SRC

综上，字符集类似数据，编码类似算法。
** 如何firefox解析github的html文件？
？浏览ken_script的README文件（html版本有目录）。

** 如何保证单元测试代码正确？
？开发tart脚本，调试单元测试。
** DONE 如何emacs org快速检索shunit2下的bash -x的追踪信息？
   CLOSED: [2017-07-14 Fri 17:55]
？开发tart脚本，调试单元测试。

#+BEGIN_SRC  
/eval test_tart
#+END_SRC

** 如何emacs org加粗符号*需要空格才有效？
？解决编写文档时增加可读性（为什么工程（项目）需要根目录的概念？）

** 为什么工程（项目）需要根目录的概念？
？开发tart脚本，开发单元测试。

减少干扰，增加 *阅读性* ，例如：
#+BEGIN_SRC  
test_file="${test_dir}/test"
test_file_compressed="${test_dir}/test.tar.gz"
test_file_extracted="${test_dir}/test_extracted"

cd "${test_dir}"
test_file="test"
test_file_compressed="test.tar.gz"
test_file_extracted="test_extracted"
#+END_SRC

缺少引用。
** DONE 如何解决bash tar报错tar: Removing leading `/' from member names？
   CLOSED: [2017-07-14 Fri 17:14]
？开发tart脚本，开发单元测试，创建测试数据。

#+BEGIN_SRC  
tar --create --gzip --file "${test_file_compressed}" "${test_file}" --verbose # bug
#+END_SRC

#+BEGIN_VERSE
https://www.google.com/search?q=tar:+Removing+leading+`/'+from+member+names

https://unix.stackexchange.com/questions/59243/tar-removing-leading-from-member-names
Use the --absolute-names or -P option to disable this feature.

This is the correct answer, but be aware, that in most cases, this is not what you want, cause it results in an archive that extracts in complete paths! – rubo77 Nov 21 '13 at 10:04 
#+END_VERSE

总结，原因是${test_file_compressed}使用了绝对路径，tar打包压缩时，将完整路径都打包压缩了，解压时就会出现完整路径的目录。

综上，使用tar打包压缩，不要使用绝对路径。

** 如何快速检索emacs org文档？
？编写"如何bash -x只是替换而不执行？"文档时，需要查看着重标记。
** 如何emacs org使用markdown的反引号？
？编写"如何bash -x只是替换而不执行？"文档，需要引用。
   
** 如何阅读bash -x的追踪信息？
？开发tart脚本，debug单元测试脚本，追踪shunit2的信息过多。

** 如何emacs显示空白字符（空格、制表符、换行符等）？
？学习bash debug，复制调试选项时会有空格和制表符混用。

#+BEGIN_VERSE
https://www.google.com/search?q=how+bash+debug
http://xiaowang.net/bgb-cn/ch02s03.html
短符号 	长符号 	结果
set -f 	set -o noglob 	禁止特殊字符用于文件名扩展。
set -v 	set -o verbose 	打印读入shell的输入行。
set -x 	set -o xtrace 	执行命令之前打印命令。
#+END_VERSE

** DONE 如何bash -x只是替换而不执行？
   CLOSED: [2017-07-14 Fri 15:34]
？开发tart脚本，代替cmd变量和eval调试（重复调试cmd、echo、eval低效率）。

无法，不执行如何替换？例如：
#+BEGIN_SRC  
v="hi"
echo "${v}"
#+END_SRC
不执行`v="hi"`，无法替换`echo "${v}"`。
** TODO 如何bash debug？
？开发tart脚本，代替cmd、echo、eval调试（重复调试cmd、echo、eval低效率）。

#+BEGIN_VERSE
https://www.google.com/search?q=how+bash+debug
https://stackoverflow.com/questions/951336/how-to-debug-a-bash-script
http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_02_03.html

http://xiaowang.net/bgb-cn/ch02s03.html
短符号 	长符号 	结果
set -f 	set -o noglob 	禁止特殊字符用于文件名扩展。
set -v 	set -o verbose 	打印读入shell的输入行。
set -x 	set -o xtrace 	执行命令之前打印命令。
#+END_VERSE

-v
#+BEGIN_VERSE
鸟哥的Linux私房菜 基础学习篇 3ed p397
https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin
    Print shell input lines as they are read.
#+END_VERSE
显示读入代码（未替换变量），效果不如-x。

-x
#+BEGIN_VERSE
鸟哥的Linux私房菜 基础学习篇 3ed p397
https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin
    Print a trace of simple commands, for commands, case commands, select commands, and arithmetic for commands and their arguments or associated word lists after they are expanded and before they are executed. The value of the PS4 variable is expanded and the resultant value is printed before the command and its expanded arguments.
#+END_VERSE
执行时，追踪实际执行的代码（即替换后的）。

综上使用cmd变量配合bash -x可以解决问题，只是开关eval比较麻烦。
** 如何bash解决cmd变量配合bash -x调试，开关eval麻烦问题？
？开发tart脚本，代替cmd、echo、eval调试（重复调试cmd、echo、eval低效率）。


** 如何bash单步调试？
？开发tart脚本，调试单元测试脚本，cmd、echo、eval太麻烦，bash -x是直接执行，避免出现rm的误操作。

#+BEGIN_VERSE
https://www.google.com/search?q=bash+单步调试&ie=utf-8&oe=utf-8
http://coolshell.cn/articles/1379.html
bashdb， 一个Bash的专用调试器。
#+END_VERSE


** 为什么代码最终目的是阅读，不仅是运行？
？开发tart脚本，选项使用完整名，不使用缩写。

** 如何bash判断文件1是文件2（目录）的子文件？
？开发tart脚本，单元测试删除测试目录。

#+BEGIN_VERSE
https://www.google.com/search?q=how+bash+file+is+sub+file+&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/12989615/check-if-file-is-in-a-given-directory-or-sub-directory-in-bash
man find
#+END_VERSE

#+BEGIN_SRC  
find $directory_path -name $file_name | wc --lines # 针对文件名

find $directory_path -path $path | wc --lines # 针对路径
#+END_SRC

** 如何bash查看脚本执行的历史命令？
？开发tart脚本，避免使用cmd变量和eval来执行。

** 如何linux tar解压指定文件名或目录？
？开发tart脚本，单元测试断言使用。

无法指定文件名，可以指定目录
#+BEGIN_SRC  
-C
--directory=DIR
#+END_SRC

** 如何bash shunit2断言文件存在？
？开发tart脚本，单元测试。

https://github.com/kward/shunit2#asserts
#+BEGIN_SRC  
assertTrue [message] condition
#+END_SRC

** DONE 什么tar打包压缩格式的区别（gz、bz2、xz）？
   CLOSED: [2017-07-14 Fri 11:28]
？开发tart脚本，单元测试需要创建测试数据（压缩包）。

#+BEGIN_VERSE
https://www.google.com/search?q=gz+bz+vs+xz

https://www.rootusers.com/gzip-vs-bzip2-vs-xz-performance-comparison/

https://blog.gtwang.org/linux/linux-why-are-tar-archive-formats-switching-to-xz-compression-to-replace-bzip2-and-what-about-gzip/
在 UNIX/Linux 社群中，傳統上如果要壓縮檔案通常都是使用 tar 加上 gzip 的壓縮方式，而後來 gzip 漸漸被 bzip2 所取代，而現在有越來越多人改用以 LZMA2 為基礎的 xz 來壓縮 tar 檔，連 kernel.org 也從 2013 年的年底開始，同時採用 tar.gz 與 tar.xz 兩種壓縮格式釋出 Linux 核心原始碼，而位於首頁的超連結則是直接使用 tar.xz 這個格式，以往的 tar.bz2 則是直接被捨棄。
剩下的就是壓縮率以及相容性的問題，傳統上的 gzip 無庸置疑是相容性最好的壓縮格式，現在應該每一種 UNIX/Linux 系統都可以解壓縮這種格式，所以如果若要確保每一位使用者都可以解壓縮，gzip 是首選。
#+END_VERSE


** DONE 什么是日期、时间格式规范？
   CLOSED: [2017-07-14 Fri 10:49]
？开发tart脚本，创建时间目录存放删除文件。

- https://www.google.com/search?q=date+specification&ie=utf-8&oe=utf-8
- https://en.wikipedia.org/wiki/ISO_8601
  
#+BEGIN_VERSE
man date
rfc3339
#+END_VERSE

** DONE 什么是rfc、iso区别？
   CLOSED: [2017-07-14 Fri 10:49]
？开发tart脚本，选择时间标准，创建删除目录。

#+BEGIN_VERSE
https://www.zhihu.com/search?type=content&q=rfc%20iso
为什么大多ISO标准都收费才能阅读？
#+END_VERSE

RFC免费、ISO收费。
** 如何vim删除当前光标到结尾的字符串？
？编写文档，编辑google引用链接，删除多余非信息部分。

#+BEGIN_SRC  
D
#+END_SRC

缺乏引用。
** DONE 如何linux模拟windows的回收站（trash标准或规范）？
   CLOSED: [2017-07-14 Fri 10:09]
？开发tart脚本，解决误删除。

- https://www.google.com/search?q=linux+trash+fedora
- https://ask.fedoraproject.org/en/question/75130/how-to-access-trash-folder-on-terminal/
#+BEGIN_SRC  
cd ~/.local/share/Trash/files
#+END_SRC

- https://www.google.com/search?q=linux+回收站
- https://www.zhihu.com/question/32294243
#+BEGIN_VERSE
有关 Linux 回收站的具体技术标准可以参见 http://freedesktop.org 的相关定义 
#+END_VERSE

- https://www.google.com/search?q=linux+trash+standard&ie=utf-8&oe=utf-8
- https://www.freedesktop.org/wiki/Specifications/trash-spec/
- https://specifications.freedesktop.org/trash-spec/trashspec-latest.html
#+BEGIN_SRC  
Its name and location are $XDG_DATA_HOME/Trash 3; $XDG_DATA_HOME is the base directory for user-specific data, as defined in the Desktop Base Directory Specification . 

ref https://specifications.freedesktop.org/basedir-spec/latest/ar01s03.html
$XDG_DATA_HOME defines the base directory relative to which user specific data files should be stored. If $XDG_DATA_HOME is either not set or empty, a default equal to $HOME/.local/share should be used. 

The $trash/files directory contains the files and directories that were trashed.
#+END_SRC

综上，使用"$HOME/.local/share/Trash/files"

** 为什么不使用/tmp作为回收站？
？开发tart脚本。

隐私问题，/tmp是公共的。

** 为什么使用测试驱动开发？
？开发tart脚本。

测试驱动开发鼓励变更（缺乏引用）。
** 什么是bash执行顺序？
？开发tart脚本，使用eval执行，选择使用单引号还是双引号。
** 如何选择bash eval执行命令字符串时，字符串内部是单引号还是双引号？
？开发tart脚本，开发单元测试脚本，使用eval。

- https://www.google.com/search?q=eval+quote+bash
- https://stackoverflow.com/questions/11065077/eval-command-in-bash-and-its-typical-uses
#+BEGIN_VERSE
Always put double quotes around variable and command substitutions, unless you know you need to leave them off. 
#+END_VERSE
#+BEGIN_SRC  
$ ls
file1 file2 otherfile
$ set -- 'f* *'
$ echo "$1"
f* *
$ echo $1
file1 file2 file1 file2 otherfile
$ n=1
$ eval echo \${$n}
file1 file2 file1 file2 otherfile
$eval echo \"\${$n}\"
f* *
$ echo "${!n}"
f* *
#+END_SRC

综上，使用双引号，因为会出现替换的替换（shell替换一次，eval新建子进程再替换一次（缺乏引用））。

** DONE 如何命名单元测试的测试目录？
   CLOSED: [2017-07-13 Thu 22:19]
？开发tart脚本，测试压缩和解压缩。

#+BEGIN_VERSE
"${program}_test" # 会破坏后缀，例如func.sh_test
"${program}.test" # 相对好
#+END_VERSE
** DONE 如何选择单元测试目录？
   CLOSED: [2017-07-13 Thu 22:11]
？开发tart脚本，测试压缩和解压缩。

可选目录
#+BEGIN_VERSE
"$HOME/.$project" # 不好，如果有同名目录，可能会删除掉真实数据。
"$HOME/.$program" # 不好，如果有同名目录，可能会删除掉真实数据。
"./${program}_test_dir" # 可以，避免目录重名。
"$project/test_dir" # 相对当前目录而言，麻烦，但是规范（如果需要保留数据，一般不需要，因为可以重复）。

#+END_VERSE
** 什么是集成测试和系统测试的区别？
？开发tart脚本。

** 什么是单元测试和集成测试的区别？
？开发tart脚本。

** DONE 如何解决linux rm删除文件时，可能误删除的问题？
   CLOSED: [2017-07-14 Fri 09:36]
？开发tart脚本，开发单元测试脚本。

- https://www.google.com/search?q=linux+safe+rm&ie=utf-8&oe=utf-8
- https://serverfault.com/questions/337082/how-do-i-prevent-accidental-rm-rf
#+BEGIN_VERSE

Don't do that! As a matter of practice, don't use ./

My friend told me he never uses rm -rf *. He always changes the directory first, and uses a specific target.

The best solutions involve changing your habits not to use rm directly.

Yes: Don't work as root and always think twice before acting. 

When I delete a directory recursively, I put the -r, and -f if applicable, at the end of the command, e.g. 
#+END_VERSE

- https://stackoverflow.com/search?q=safe+rm
- https://stackoverflow.com/questions/373156/what-is-the-safest-way-to-empty-a-directory-in-nix
手动操作
#+BEGIN_SRC  
alias del="pwd;read;rm"
#+END_SRC

- https://stackoverflow.com/search?q=safe+rm
- https://stackoverflow.com/questions/992737/safe-rm-rf-function-in-shell-script
自动操作（程序）
#+BEGIN_SRC  
cd $SOMEPATH && rm -rf *
#+END_SRC

综上
- 使用mv代替rm。
- 如果使用rm，不要使用./，切换目录，指定删除文件，不要使用*。
** DONE 如何shunit2命名测试文件？
   CLOSED: [2017-07-13 Thu 18:43]
？开发tart脚本。

- https://github.com/kward/shunit2
#+BEGIN_VERSE
equality_test.sh
#+END_VERSE

- https://www.google.com/search?q=junit&ie=utf-8&oe=utf-8
- https://github.com/junit-team/junit4/wiki/Getting-started
#+BEGIN_VERSE
CalculatorTest.java
#+END_VERSE

综上，一般格式为"file_test.sh"
** 为什么需要单元测试？
？开发tart脚本。

** 如何bash使用;结尾，";"或" ;"？
？

** 如何bash cd快速切换目录？
？使用emacs快速编辑stf.org

** 如何解决emacs dired使用mvt脚本，报错"sudo: no tty present and no askpass program specified"（sudo需要输入密码导致）？
？emacs dired使用mvt脚本，批量删除art、gtd、phi目录。

- https://www.google.com/search?q=sudo:+no+tty+present+and+no+askpass+program+specified&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/21659637/how-to-fix-sudo-no-tty-present-and-no-askpass-program-specified-error
sudo visudo
#+BEGIN_SRC  
$username ALL = NOPASSWD: /fullpath/to/command, /fullpath/to/othercommand
#+END_SRC

最优办法，去掉脚本中的sudo命令，如果要使用sudo，在脚本外使用（使整个脚本生效，而不是局部使用）。
  
** 如何解决bash ${*}参数中双引号失效问题（空格导致）？
？开发mvt脚本，批量mv时，双引号失效。

t.sh
#+BEGIN_SRC  
echo ${*}
#+END_SRC

#+BEGIN_SRC  
bash t.sh
#+END_SRC

使用"${@}"，使用${@}无效
#+BEGIN_SRC  
for i in "${@}"; do
	cmd="sudo mv -f -t \"${date_dir}\" \"${i}\""
	echo "${cmd}"
	eval "${cmd}"
done

#+END_SRC
？引用？
** 如何测试bash的BASH_SOURCE变量，不写脚本？
？开发mvt脚本，自动生成配置目录路径。

https://stackoverflow.com/questions/11065077/eval-command-in-bash-and-its-typical-uses
#+BEGIN_VERSE
bash$ set -- one two three  # sets $1 $2 $3
bash$ echo $1
#+END_VERSE
** 什么是bash ${!var}含义？
？开发mvt脚本，自动生成配置目录路径。

** DONE 如何bash获取执行脚本的文件路径？
   CLOSED: [2017-07-13 Thu 15:44]
？开发mvt脚本，自动生成配置目录路径。

- https://www.google.com/search?q=bash+current+script+path&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/59895/getting-the-source-directory-of-a-bash-script-from-within
#+BEGIN_SRC  
"$(readlink --canonicalize-missing "${BASH_SOURCE[0]}")"
#+END_SRC
** 如何emacs dired检索并标记文件？
？删除ken_script多余的org文档。
** 为什么使用bash脚本mvt作为emacs dired删除命令，而不是直接写elisp脚本？
？使用emacs dired删除文件到回收站。

shell和emacs都可以通用，移植性好。（需要解决windows不通用）。
** 如何命名软件程序的配置目录名？
？命名mvt的配置目录。

#+BEGIN_SRC 
.$program 
#+END_SRC
** DONE 如何emacs shell输入密码时使用*代替？
   CLOSED: [2017-07-17 Mon 19:41]
？用于git push，发布ken_script。

#+BEGIN_SRC  
https://www.google.com/search?q=emacs+shell+password+asterisk
https://emacs.stackexchange.com/questions/21116/how-to-prevent-emacs-from-showing-passphrase-in-m-x-shell

(setq comint-password-prompt-regexp
      (concat comint-password-prompt-regexp
              "\\|^.*Password.*\\'"))
#+END_SRC
** 如何emacs dired使用git push？
？使用gitt，发布ken_script
** 如何emacs dired使用backspace返回上一级？
？模拟windows的资源管理器。
** 如何emacs org快速排序item项？
？编写ken_script文档时，排序软件名。
** 如何emacs dired光标快速定位目标文件（或目录）？
？编写ken_script文档时，需要阅读源代码，需要定位、切换目录。
** 什么是括号是否换行的最佳实践？
？开发gnomet脚本，if语句的then不换行。

if和then形状不如{}那么对称，因此不换行
** 为什么bash if语句中常量放谓语前面，变量谓语后面？
？开发gnomet。
** 什么是bash脚本开发时选项规范？
？开发grepr，使用posix规范和缩写规范。
** 为什么开发bash脚本时，命令的选项尽量使用完整名，而不是缩写？
？阅读grepr时，更快理解grep命令中的选项含义。
** 什么是sed -En 's|x|y|g'和sed -E 's|x|y|gp'的区别？
？findr中，使用-En代替p。
** DONE 什么是realpath -m含义？
	 CLOSED: [2017-07-13 Thu 11:40]
？使得findr输出绝对路径，快速使用emacs编辑文件。

- https://www.google.com/search?q=--canonicalize-missing+mean&ie=utf-8&oe=utf-8
- https://unix.stackexchange.com/questions/202855/explain-the-options-of-readlink-command
#+BEGIN_VERSE
-m option is the opposite of -e. No test will be made to check if the components of path exist
#+END_VERSE
#+BEGIN_SRC  
$ readlink -m ./subdir/link/fakedir/fakefile
/tmp/realdir/fakedir/fakefile

$ ln -s /nonexistent /tmp/subdir/brokenlink

$ readlink -m ./subdir/brokenlink/foobar
/nonexistent/foobar
#+END_SRC
** DONE 如何linux bash转换相对路径.为绝对路径？
	 CLOSED: [2017-07-13 Thu 11:35]
？使得findr输出绝对路径，快速使用emacs编辑文件。

- https://www.google.com/search?q=convert+relative+path+to+absolute+bash&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/6643853/how-to-convert-in-path-names-to-absolute-name-in-a-bash-script
#+BEGIN_VERSE
readlink -m $relative_path
#+END_VERSE


** 如何emacs org删除文件到回收站目录，而不是直接删除文件？
？用于备份文件，类似windows的回收站目录。
** 如何emacs org检索文档时，仅仅检索item项标题？
？快速检索目标内容，例如检索nohup。

** 如何linux nohup不输出nohup.out？
？避免污染git repo。


- https://www.google.com/search?q=nohup&ie=utf-8&oe=utf-8
- http://www.cnblogs.com/allenblogs/archive/2011/05/19/2051136.html
#+BEGIN_SRC  
nohup $command > $out_file &

# 测试
nohup ls > /dev/null &
#+END_SRC
** DONE 什么是linux网站dir.com和man7.org的区别？
   CLOSED: [2017-07-05 Wed 12:03]
？用于引用。

- https://www.die.net/
- http://man7.org
  
使用google搜索，dir.net的结果多些。

** 什么是总结和读书笔记的区别？
？分类文档，需要区分概念。

参考"阮一峰的网络日志 - 阮一峰的个人网站"

- 总结是实践日志，例如linux应用总结。（智慧、act）
- 读书笔记是读书日志，例如鸟哥的linux私房菜读书笔记。（知识、nonact）
** 如何linux快速打开历史文件？
？关闭文档，删除刺激。
** 如何linux bash判断目录是否是git工程？
** 如何linux bash清屏？
？开发pingt脚本，需要循环输出。

- https://www.google.com/search?q=bash+clear+screen
- https://stackoverflow.com/questions/6367046/cls-equivalent-in-bash
clear
- http://man7.org/linux/man-pages/man1/clear.1.html
** 是否linux管道是子进程？
？开发pingt脚本，需要后台挂起进程。
** DONE 什么是linux man数字区别？
   CLOSED: [2017-07-01 Sat 00:26]

- 鸟哥的Linux私房菜 基础学习篇 3ed-鸟哥 p123
  
- http://man7.org/linux/man-pages/man1/man.1.html
#+BEGIN_VERSE
1   Executable programs or shell commands
2   System calls (functions provided by the kernel)
3   Library calls (functions within program libraries)
4   Special files (usually found in /dev)
5   File formats and conventions eg /etc/passwd
6   Games
7   Miscellaneous (including macro packages and conventions), e.g.
man(7), groff(7)
8   System administration commands (usually only for root)
9   Kernel routines [Non standard]
#+END_VERSE
** DONE 如何linux bash延迟或挂起脚本？
   CLOSED: [2017-07-01 Sat 00:22]
？开发pingt脚本，需要循环创建脚本，避免过多进程。

- https://www.google.com/search?q=bash+delay&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/32359374/how-could-i-run-a-shell-script-with-delay
sleep

- http://man7.org/linux/man-pages/man3/sleep.3.html
- http://man7.org/linux/man-pages/man1/sleep.1.html
#+BEGIN_SRC  
sleep $sec
#+END_SRC

** DONE 如何bash使用while循环？
   CLOSED: [2017-07-01 Sat 00:11]
？开发pingt脚本，循环显示域名平均延时。

- https://www.gnu.org/software/bash/manual/bash.html
- 3.2.4.1 Looping Constructs
#+BEGIN_SRC  
while test-commands; do consequent-commands; done

while true
do
	printf "1"
done
#+END_SRC
** DONE 如何linux bash排序文本行？
   CLOSED: [2017-07-01 Sat 00:00]
？开发pingt脚本，排序延时最低域名。

- 鸟哥的Linux私房菜 基础学习篇 3ed-鸟哥 p336
- http://man7.org/linux/man-pages/man1/sort.1.html

#+BEGIN_SRC  
sort --key=2 --numeric-sort --reverse<<end
a 2
b 3
c 1
end
#+END_SRC

** DONE 如何awk使用数组？
   CLOSED: [2017-06-30 Fri 22:52]
？开发pingt脚本，分组计算时需要使用。

- https://www.google.com/search?q=awk+分组&ie=utf-8&oe=utf-8
- http://6226001001.blog.51cto.com/9243584/1659824
#+BEGIN_SRC  
awk '{s[$1] += $2}END{ for(i in s){  print i, s[i] } }'
#+END_SRC

- https://www.gnu.org/software/gawk/manual/gawk.html#Arrays
8.1.4 Basic Array Example
#+BEGIN_SRC  
awk 'BEGIN{ a["b"]=1; print a["b"] }'
#+END_SRC

- https://www.gnu.org/software/gawk/manual/gawk.html
4.2 Examining Fields
#+BEGIN_VERSE
You use a dollar sign (‘$’) to refer to a field in an awk program, followed by the number of the field you want.
#+END_VERSE
#+BEGIN_SRC  
awk '/li/ { print $1, $NF }' <<<'li 1 2 3'
#+END_SRC

- https://www.gnu.org/software/gawk/manual/gawk.html#Regexp
3.1 How to Use Regular Expressions
#+BEGIN_SRC  
awk '/li/ { print $2 }' <<<'li 2'
awk '$1 ~ /J/' <<<'J1'
awk '{ if ($1 ~ /J/) print }'<<<'J1'
#+END_SRC

** DONE 什么是bash <<<含义？
   CLOSED: [2017-06-30 Fri 23:29]
？开发pingt脚本，测试awk命令。
？开发pingt脚本，测试awk时用到。

- https://www.google.com/search?q=treble+left+arrow+bash
- https://stackoverflow.com/questions/16045139/redirector-in-ubuntu
  
- https://www.gnu.org/software/bash/manual/bashref.html#Here-Strings
3.6.6 Here Documents

- https://www.gnu.org/software/bash/manual/bashref.html#Here-Strings
3.6.7 Here Strings

** DONE 如何vim返回历史光标位置？
   CLOSED: [2017-06-30 Fri 20:25]
？emacs evil编写awk日志时，被中断，需要返回。

- Vim实用技巧-Neil p125
C-i C-o

- liberator://help/all
- History
	
- http://vimdoc.sourceforge.net/htmldoc/help.html
- http://vimdoc.sourceforge.net/htmldoc/motion.html#CTRL-O
8. Jumps			|jump-motions|
#+BEGIN_SRC  

#+END_SRC

** DONE 如何vim m标记光标位置？
   CLOSED: [2017-06-30 Fri 20:59]
？emacs evil编写awk日志时，被中断，需要返回。

- VI和VIM编辑器 p59
mx

- http://vimdoc.sourceforge.net/htmldoc/usr_03.html
- |03.10|	Using marks
#+BEGIN_SRC  
ma
`a
#+END_SRC

** 如何linux bash编辑pdf的页码？
？使用开源软件代替acrobat pro。
** DONE 如何sed输出正则匹配的字符串组？
   CLOSED: [2017-06-30 Fri 18:26]
？获取ping结果中的ip和time。

- 鸟哥的Linux私房菜 基础学习篇 3ed-鸟哥 p357
-r

#+BEGIN_SRC  
ping baidu.com | sed -E "s/.*\((.+)\).*time=([^ ]+).*/\1\t\2/g"
#+END_SRC

- https://www.gnu.org/software/sed/manual/sed.html
-E
#+BEGIN_VERSE
    Historically this was a GNU extension, but the -E extension has since been added to the POSIX standard (http://austingroupbugs.net/view.php?id=528), so use -E for portability. GNU sed has accepted -E as an undocumented option for years, and *BSD seds have accepted -E for years as well, but scripts that use -E might not port to other older systems. See Extended regular expressions.
#+END_VERSE

- https://www.gnu.org/software/sed/manual/sed.html#The-_0022s_0022-Command
3.3 s/regexp/replacement/flags

- https://www.gnu.org/software/sed/manual/sed.html#The-_0022s_0022-Command
3.3 flags

- https://www.gnu.org/software/sed/manual/sed.html#The-_0022s_0022-Command
3.3 \1 \n 
#+BEGIN_VERSE
The replacement can contain \n (n being a number from 1 to 9, inclusive) references, which refer to the portion of the match which is contained between the nth \( and its matching \). Also, the replacement can contain unescaped & characters which reference the whole matched portion of the pattern space. 
#+END_VERSE

- https://www.gnu.org/software/sed/manual/sed.html#BRE-syntax
5.3 regexp syntax

- https://www.gnu.org/software/sed/manual/sed.html#BRE-syntax
5.3 group \(\)

- https://www.gnu.org/software/sed/manual/sed.html#ERE-syntax
5.4 group -E或-r ()

- https://www.gnu.org/software/sed/manual/sed.html#BRE-vs-ERE
5.2 BRE vs ERE

** DONE 如何使用bash grep sed awk？
   CLOSED: [2017-06-30 Fri 17:10]
？开发pingt脚本。

- https://www.google.com/search?q=代替+awk&ie=utf-8&oe=utf-8
- https://www.zhihu.com/question/19911992
#+BEGIN_SRC  
比如在处理文本时有可能你会先用sed进行初步处理，然后再使用awk就会降低逻辑复杂度。
#+END_SRC

- https://www.google.com/search?q=代替+awk&ie=utf-8&oe=utf-8
- https://www.v2ex.com/t/160899
q（python的sql工具）

总结：
- grep筛选数据。
- sed格式化数据为表。
- awk计算数据，类似sql。
- bash控制。
** DONE 如何linux ping输出显示域名而不是ip？
   CLOSED: [2017-06-30 Fri 16:09]
？开发pingt脚本，查看域名知道ss服务器国家。

#+BEGIN_SRC  
domain=jp01-22.ssv7.net; ping $domain  | sed -E "s/(.*\()(.*)(\).*)/\1${domain}\3/g"
#+END_SRC
注意：这个案例后面接上重定向，会阻塞。
** DONE 如何awk设置分隔符？
   CLOSED: [2017-06-30 Fri 16:57]
？开发pingt脚本，sed处理后的数据分隔符为\t。

- 鸟哥的Linux私房菜 基础学习篇 3ed-鸟哥 p365
  
#+BEGIN_SRC  
printf "1 2"| awk 'BEGIN {FS=" "}{printf "%s\n", $1}'
#+END_SRC

- https://www.gnu.org/software/gawk/manual/gawk.html
- https://www.gnu.org/software/gawk/manual/gawk.html#BEGIN_002fEND
7.1.4 The BEGIN and END Special Patterns 
#+BEGIN_VERSE
A BEGIN rule is executed once only, before the first input record is read. Likewise, an END rule is executed once only, after all the input is read. 
#+END_VERSE
#+BEGIN_SRC  
awk '  
BEGIN { print "Analysis of \"li\"" }
/li/  { ++n }
END   { print "\"li\" appears in", n, "records." }' <<end
1
li
3
end

#+END_SRC

- https://www.gnu.org/software/gawk/manual/gawk.html#Command-Line-Field-Separator
4.5 Specifying How Fields Are Separated
#+BEGIN_SRC  
awk 'BEGIN { FS = "," } ; { print $2 }' <<<'John Q. Smith, 29 Oak St., Walamazoo, MI 42139'
#+END_SRC
4.5.4 Setting FS from the Command Line
#+BEGIN_SRC  
awk -F, 'program' input-files #
#+END_SRC

- https://www.gnu.org/software/gawk/manual/gawk.html#Basic-Printf
5.5.1 printf

** 如何linux查看后台进程？
？中止ping进程。
** 如何bash for变量标准输入stdin的内容？
？开发pingt脚本，遍历ip。
** DONE 如何判断bash的变量是数组或非数组？
   CLOSED: [2017-06-30 Fri 13:19]
？开发pingt，从pipe读取数据，用于for循环读取。

- https://www.google.com/search?q=bash+how+to+know+array+var
- https://stackoverflow.com/questions/14525296/bash-check-if-variable-is-array
#+BEGIN_SRC  
declare -p variable-name 2> /dev/null | grep -q '^declare \-a'
#+END_SRC
实际上判断bash变量属性是否是数组没有意义，因为for循环遍历变量，不检查变量是数组还是非数组。参考 https://stackoverflow.com/questions/44838045/what-is-the-difference-between-a-non-array-var-and-an-array-var-in-bash

以下经验信息可以参考，但是对题目意义不大。
  

- https://www.google.com/search?q=bash+array+length&ie=utf-8&oe=utf-8
- https://unix.stackexchange.com/questions/193039/how-to-count-the-length-of-an-array-defined-in-bash
${#array[@]} ${!array[@]}
#+BEGIN_SRC  
#!/bin/bash

array=( item1 item2 item3 )
for index in ${!array[@]}; do
    echo $index/${#array[@]}
done
#+END_SRC

- https://www.gnu.org/software/bash/manual/bash.html#Arrays
#+BEGIN_VERSE
${#name[subscript]} expands to the length of ${name[subscript]}.
数组长度len

${!name[@]} and ${!name[*]} expand to the indices assigned in array variable name.
替换为0 1 2...
#+END_VERSE

NOTE：变量也能当数组使用
#+BEGIN_SRC  
a=aa
printf "a len: ${#a[*]}\n"
for i in ${a[*]}
do
	echo $i
done

a=(aaa)
printf "a len: ${#a[*]}\n"
for i in ${a[*]}
do
	echo $i
done
#+END_SRC

** DONE 什么是bash中数组变量和非数组变量的区别？
   CLOSED: [2017-06-30 Fri 12:44]
？判断bash变量是否是数组。

- https://stackoverflow.com/questions/44838045/what-is-the-difference-between-a-non-array-var-and-an-array-var-in-bash
数组变量拥有attribute（属性）

- https://www.google.com/search?q=bash+how+to+use+declare&ie=utf-8&oe=utf-8
- https://unix.stackexchange.com/questions/254367/in-bash-script-whats-the-different-between-declare-and-a-normal-variable
declare赋予变量属性，例如declare -r。  

** DONE 如何解决emacs执行linux命令不输出结果，"Shell command succeeded with no output"？
   CLOSED: [2017-06-30 Fri 12:21]
？测试declare -p的脚本（判断数组）。

自己的错误，-p后没有加变量名v
#+BEGIN_SRC  
#!/usr/bin/env bash

v=()
declare -p # 需要变量名，所以这里是错误的。
#+END_SRC
** 如何bash -c使用pipe管道？
？测试mapfile脚本（没有权限）。

** DONE 什么是mapfile(readarray)和mapfile -t的区别？
   CLOSED: [2017-06-30 Fri 11:42]
？开发pingt脚本。
   
- https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html  

#+BEGIN_SRC  
readarray -t v </dev/stdin

for i in "${v[@]}"
do
	printf "$i\n"
done
#+END_SRC

printf "1\n2 3\n" | t.sh | od -c
#+BEGIN_SRC  
0000000   1  \n   2       3  \n 
0000006    
#+END_SRC

#+BEGIN_SRC  
readarray v </dev/stdin

for i in "${v[@]}"
do
	printf "$i\n"
done
#+END_SRC

printf "1\n2 3\n" | t.sh | od -c
#+BEGIN_SRC  
0000000   1  \n  \n   2       3  \n  \n     
0000010
# 8进制，是8个字符
#+END_SRC
** DONE 什么是bash中数组${name[*]}和"${name[@]}"的区别？
   CLOSED: [2017-06-30 Fri 11:17]
？开发pingt脚本，使用从stdin读取的数组。

- https://www.google.com/search?q=bash+array+at+asterisk&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/3348443/a-confusion-about-array-versus-array-in-the-context-of-a-bash-comple

#+BEGIN_SRC  
echo "with quotes around myarray[*]"
for x in "${myarray[*]}"; do
        echo "ARG[*]: '$x'"
done

echo "with quotes around myarray[@]"
for x in "${myarray[@]}"; do
        echo "ARG[@]: '$x'"
done

echo "without quotes around myarray[*]"
for x in ${myarray[*]}; do
        echo "ARG[*]: '$x'"
done

echo "without quotes around myarray[@]"
for x in ${myarray[@]}; do
        echo "ARG[@]: '$x'"
done
#+END_SRC

输出
#+BEGIN_SRC  
with quotes around myarray[*]
ARG[*]: 'one two three four'
with quotes around myarray[@]
ARG[@]: 'one'
ARG[@]: 'two'
ARG[@]: 'three four'
without quotes around myarray[*]
ARG[*]: 'one'
ARG[*]: 'two'
ARG[*]: 'three'
ARG[*]: 'four'
without quotes around myarray[@]
ARG[@]: 'one'
ARG[@]: 'two'
ARG[@]: 'three'
ARG[@]: 'four'
#+END_SRC
- https://www.gnu.org/software/bash/manual/bash.html#Arrays
** 如何bash cat here doc使用pipe传递结果？
** 如何emacs dired快速跳转指定行？
？开发pingt脚本。

** DONE 如何使用shunit2？
   CLOSED: [2017-06-30 Fri 00:11]
？开发pingt脚本。

- https://github.com/kward/shunit2

#+BEGIN_SRC  
git clone https://github.com/kward/shunit2.git
cd shunit2/source/2.1/examples

# 测试一个
./equality_test.sh
# 测试所有
ls *.sh| xargs -n1 -i bash {}
#+END_SRC

** DONE 什么是bash的单元测试框架？
   CLOSED: [2017-06-30 Fri 00:01]
？开发pingt脚本。

- 驱动测试开发-Beck
xUnit p93

- https://www.google.com/search?q=xunit
- https://en.wikipedia.org/wiki/XUnit
- https://en.wikipedia.org/wiki/List_of_unit_testing_frameworks

- https://www.google.com/search?q=bash+xunit&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/971945/unit-testing-for-shell-scripts
shunit2

** DONE 如何vimp处理编写映射脚本时的冒号:？
   CLOSED: [2017-06-29 Thu 20:39]
？设置firefox的图片显示。

- https://www.google.com/search?q=vimperator+script+tutorial&ie=utf-8&oe=utf-8
- https://en.wikipedia.org/wiki/Vimperator
Vimscript

- http://vimdoc.sourceforge.net/htmldoc/help.html
- http://vimdoc.sourceforge.net/htmldoc/usr_41.html
- *41.11*	Writing a plugin
  
- https://www.google.com/search?q=vim+script+without+colon&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/14051712/why-some-commands-in-vim-require-a-colon-while-some-dont 
#+BEGIN_SRC  
Best I can find is :help vimrc: "A file that contains initialization commands is called a "vimrc" file. Each line in a vimrc file is executed as an Ex command line." Note the Ex command, that implies that the normal mode : command to enter Ex mode is optional.
#+END_SRC

结论：脚本可以使用也可以不使用。

** DONE 如何vimp映射leader key快捷键？
   CLOSED: [2017-06-29 Thu 20:33]
？设置firefox的图片显示。

liberator://help/all
- 11 Key mappings, abbreviations, and user-defined commands
- 11.1.4 Special characters
  
command line模式
#+BEGIN_SRC  
:map \h :echo "Hello"<CR>
#+END_SRC

脚本模式
#+BEGIN_SRC  
nnoremap <leader>p0 :set! permissions.default.image=2<CR>
nnoremap <leader>pp :set! permissions.default.image=1<CR>
#+END_SRC
** DONE 如何vimp设置firefox的option选项？
   CLOSED: [2017-06-29 Thu 20:39]
？设置firefox的图片显示。

liberator://help/all
- 7.2 Setting Firefox options
  
command line模式
#+BEGIN_SRC  
" 开启图片
:set! permissions.default.image=1
#+END_SRC

- http://vimdoc.sourceforge.net/htmldoc/help.html
- http://vimdoc.sourceforge.net/htmldoc/usr_20.html
Command line

** DONE 如何vimp映射按键？
   CLOSED: [2017-06-29 Thu 19:07]
？设置=为缩放增加
   
liberator://help/all#:map-commands
- 4.4 Zooming
- 11 Key mappings, abbreviations, and user-defined commands
  
#+BEGIN_SRC  
:nnoremap = zi
#+END_SRC
** DONE 如何vimp设置firefox的缩放比例为150%？
   CLOSED: [2017-06-29 Thu 18:36]
？看django、flask的manual。

- liberator://help/all#zooming
keywords: zoom
 
单个tab
#+BEGIN_SRC  
:zoom $percent_num
#+END_SRC

- https://www.google.com/#q=firefox+set+default+zoom+level
- https://support.mozilla.org/en-US/questions/963759
  
所有tab，vimp代码
#+BEGIN_SRC  
:set! layout.css.devPixelsPerPx=1.5
#+END_SRC
** DONE 如何使用emacs org的字段引用？
   CLOSED: [2017-06-29 Thu 00:18]
？引用英语语法解释。

- https://www.google.com/search?q=org+quote&ie=utf-8&oe=utf-8
- http://orgmode.org/manual/Paragraphs.html

** DONE 如何markdown使用url超链接引用？
   CLOSED: [2017-06-28 Wed 22:34]
？回答statckoverflow引用manual。https://stackoverflow.com/questions/13363267/how-to-remove-footer-details-in-org-mode-html-export

- https://www.google.com/search?q=official+markdown+syntax
- https://daringfireball.net/projects/markdown/syntax
- https://daringfireball.net/projects/markdown/syntax#link
#+BEGIN_SRC  
[This link](http://example.net/) has no title attribute.
#+END_SRC

stackoverflow comment的help
- https://stackoverflow.com/editing-help#comment-formatting

** DONE 如何emacs org导出html，取消显示作者？
   CLOSED: [2017-06-28 Wed 22:34]
？取消blog.org导出的html的作者。
- https://www.google.com/search?q=org+mode+export+without+author&ie=utf-8&oe=utf-8
- https://stackoverflow.com/questions/13363267/how-to-remove-footer-details-in-org-mode-html-export
- http://orgmode.org/manual/Publishing-options.html
#+BEGIN_SRC  
(setq org-export-with-author nil)
#+END_SRC


** 如何使用marmalade或melpa安装emacs插件？
？安装smex。

https://github.com/nonsequitur/smex
** 什么是marmalade和melpa的区别？
？安装smex。

- https://www.google.com/search?q=mamarlade+melpa+difference&ie=utf-8&oe=utf-8
- https://emacs.stackexchange.com/questions/268/what-are-the-practical-differences-between-the-various-emacs-package-repositorie


** DONE 如何emacs org使用firefox预览org文件？
   CLOSED: [2017-06-29 Thu 15:38]
？预览ken_el repo的README.org。

- https://www.google.com/search?q=set+org+mode+preview+default+html+export+open
- https://stackoverflow.com/questions/8834633/how-do-i-make-org-mode-open-pdf-files-in-evince
  org-mode-hook
  
#+BEGIN_SRC  
(add-hook 'org-mode-hook
	'(lambda ()
		(setq org-file-apps
			'((auto-mode . emacs)
			("\\.mm\\'" . default)
			("\\.x?html?\\'" . "/usr/bin/firefox %s")
			("\\.pdf\\'" . "evince %s")))))
#+END_SRC

- https://www.google.com/search?q=org+mode+open+html+firefox&ie=utf-8&oe=utf-8
- https://emacs.stackexchange.com/questions/2387/browser-not-opening-when-exporting-html-from-org-mode
  org-file-apps

#+BEGIN_SRC  
(setq org-file-apps
	(quote
		((auto-mode . emacs)
		("\\.mm\\'" . default)
		("\\.x?html?\\'" . "/usr/bin/firefox %s")
		("\\.pdf\\'" . default))))
#+END_SRC
  

** DONE 如何bash转换url后缀为文件名？
   CLOSED: [2017-06-27 Tue 20:46]
？安装emacs color-theme。

- https://www.google.com/search?q=bash+convert+url+filename
- https://stackoverflow.com/questions/1199613/extract-filename-and-path-from-url-in-bash-script
echo ${FILE##/*/} # ==> prog.c
https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion
#+BEGIN_SRC  
url="http://download.savannah.nongnu.org/releases/color-theme/color-theme-6.6.0.tar.gz"
echo "${url##http*/}"
#+END_SRC

** DONE 如何linux tar指定解压目录？
   CLOSED: [2017-06-27 Tue 19:50]
？安装emacs color-theme。

m-! man tar
#+BEGIN_SRC  
-C
#+END_SRC
** DONE 什么是emacs命令load和require的区别？
   CLOSED: [2017-06-27 Tue 19:29]
？用于配置emacs的插件。

- https://www.google.com/search?q=emacs+load+require&ie=utf-8&oe=utf-8
- https://emacs.stackexchange.com/questions/364/when-should-i-use-autoload-instead-of-require

- https://www.google.com/search?q=emacs+require+load+区别&ie=utf-8&oe=utf-8
- http://forum.ubuntu.org.cn/viewtopic.php?f=68&t=310023
#+BEGIN_SRC  
如果el文件中有，provide XXX,那么可以require XXX就可以加载了，否则，就要直接用load来加载文件。
#+END_SRC

** 如何判断英语which修饰的词语？
？学习emacs load require的区别。

http://ergoemacs.org/emacs/elisp_library_system.html
#+BEGIN_SRC  
For example, the command comment-dwim is defined in newcomment.el, which is a library of functions.
#+END_SRC

** 什么是emacs的默认插件目录？
？安装

https://www.gnu.org/software/emacs/manual/html_node/emacs/index.html

** 如何安装proxychains-ng？
？加速git clone。

** DONE 如何git添加github远程仓库链接地址到本地仓库？
   CLOSED: [2017-06-27 Tue 15:35]
？push本地仓库到github仓库（el脚本）

github新建repo后有提示

- https://git-scm.com/book/en/v2
- https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes
#+BEGIN_SRC  
git remote add origin $repo_url
#+END_SRC
** DONE 如何emacs org查看代码块支持的语言种类？
   CLOSED: [2017-06-27 Tue 15:17]
？编写yas日志，使用elisp配置yas。

https://www.google.com/search?q=org+manual&ie=utf-8&oe=utf-8
http://orgmode.org/manual/index.html#Top
http://orgmode.org/manual/Working-With-Source-Code.html
http://orgmode.org/manual/Languages.html#Languages
#+BEGIN_SRC  
Org supports the following languages for the ‘src’ code blocks:

Language 	Identifier 	Language 	Identifier
Asymptote 	asymptote 	Awk 	awk
C 	C 	C++ 	C++
Clojure 	clojure 	CSS 	css
D 	d 	ditaa 	ditaa
Graphviz 	dot 	Emacs Calc 	calc
Emacs Lisp 	emacs-lisp 	Fortran 	fortran
gnuplot 	gnuplot 	Haskell 	haskell
Java 	java 	Javascript 	js
LaTeX 	latex 	Ledger 	ledger
Lisp 	lisp 	Lilypond 	lilypond
Lua 	lua 	MATLAB 	matlab
Mscgen 	mscgen 	Objective Caml 	ocaml
Octave 	octave 	Org mode 	org
Oz 	oz 	Perl 	perl
Plantuml 	plantuml 	Processing.js 	processing
Python 	python 	R 	R
Ruby 	ruby 	Sass 	sass
Scheme 	scheme 	GNU Screen 	screen
Sed 	sed 	shell 	sh
SQL 	sql 	SQLite 	sqlite 

#+END_SRC
** DONE 什么是emacs org org-sparse-tree函数源代码中#含义？
   CLOSED: [2017-06-27 Tue 12:09]

https://www.google.com/search?q=sharp+emacs+lisp+mean&ie=utf-8&oe=utf-8
https://emacs.stackexchange.com/questions/3595/when-to-sharp-quote-a-lambda-expression
Once upon a time, the sharp quote was necessary for lambdas, now that's no longer the case.


** DONE 如何emacs lisp导入el文件？
   CLOSED: [2017-06-27 Tue 11:33]
？研发emacs插件。

https://www.google.com/search?q=emacs+import+el+file&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/7252793/importing-files-in-emacs-lisp-emacs-configuration-file-in-the-same-directory

https://www.gnu.org/software/emacs/manual/html_node/emacs/index.html#Top
https://www.gnu.org/software/emacs/manual/html_node/emacs/Building.html#Building
https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Libraries.html
#+BEGIN_SRC  
(load-file "/el/path")
#+END_SRC
** DONE 如何定义emacs函数？
   CLOSED: [2017-06-27 Tue 11:19]
？学习调用org函数。

https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html
https://www.gnu.org/software/emacs/manual/html_node/eintr/defun.html#defun
#+BEGIN_SRC  
(defun multiply-by-seven (number)
"Multiply NUMBER by seven."
(* 7 number))

m-: (multiply-by-seven 2) ; 需要输入小括号parentheses。
#+END_SRC
** DONE 如何定义emacs interactive交互函数？
   CLOSED: [2017-06-27 Tue 11:19]
   

https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html
https://www.gnu.org/software/emacs/manual/html_node/eintr/Interactive-multiply_002dby_002dseven.html#Interactive-multiply_002dby_002dseven

#+BEGIN_SRC  
(defun multiply-by-seven (number)       ; Interactive version.
	"Multiply NUMBER by seven."
	(interactive "p")
	(message "The result is %d" (* 7 number)))

; 无法输入参数number
#+END_SRC

https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html
https://www.gnu.org/software/emacs/manual/html_node/elisp/Command-Loop.html#Command-Loop
https://www.gnu.org/software/emacs/manual/html_node/elisp/Interactive-Codes.html#Interactive-Codes
#+BEGIN_SRC  

(defun multiply-by-seven (number)       ; Interactive version.
	"Multiply NUMBER by seven."
	(interactive "n")
	(message "The result is %d" (* 7 number)))

; 可以输入参数number，修改p为n。
#+END_SRC
** DONE 如何emacs调用interactive交互函数？
   CLOSED: [2017-06-27 Tue 11:06]
？调用org交互函数

https://www.google.com/search?q=emacs+lisp+call+interactive+function
https://emacs.stackexchange.com/questions/5973/how-to-use-interactive-arguments-when-calling-the-command-from-code

https://www.gnu.org/software/emacs/manual/html_node/elisp/index.html
https://www.gnu.org/software/emacs/manual/html_node/elisp/Functions.html#Functions
https://www.gnu.org/software/emacs/manual/html_node/elisp/Defining-Functions.html#Defining-Functions

case: call-interactively
#+BEGIN_SRC  
(defun foo(str)
  (interactive "s")
  (message str))

(call-interactively 'foo)
#+END_SRC

case: directly
#+BEGIN_SRC  
(defun foo(str)
  (interactive "s")
  (message str)
  (message "inter"))

(foo "hi")
#+END_SRC
** 如何emacs c-h k查看emacs org s-tab 2次的快捷键？
？hack org函数。

** DONE 如何emacs org检索指定时间段的日程？
   CLOSED: [2017-06-27 Tue 09:13] SCHEDULED: <2017-06-27 Tue>
？回顾日程

http://orgmode.org/guide/Document-Structure.html#Document-Structure
http://orgmode.org/guide/Sparse-trees.html#Sparse-trees
#+BEGIN_SRC  
C-c / D
17-6-27
17-6-27 8:00 # 8:0 无效
#+END_SRC


** 什么是fdisk type和mkfs type的区别？
？用于制作u盘安装盘。

https://www.google.com/search?q=fdisk+type+id+difference+mkfs
https://superuser.com/questions/317724/difference-between-file-system-created-by-fdisk-and-file-system-created-by-mkfs
So fdisk isn't really creating a filesystem, it's setting up the hard drive so that a filesystem can be created on it.
https://unix.stackexchange.com/questions/18510/why-do-we-need-to-specify-partition-type-in-fdisk-and-later-again-in-mkfs
The partition type code that fdisk puts in the msdos partition table is only a hint and is pretty much ignored by non Microsoft operating systems.
** DONE 如何解决python报错"You are trying to run the Python 2 version of Beautiful Soup under Python 3."
   CLOSED: [2017-06-26 Mon 16:30]
？运行bs脚本报错。

https://www.google.com/search?q=You+are+trying+to+run+the+Python+2+version+of+Beautiful+Soup+under+Python+3
https://stackoverflow.com/questions/35422243/beautiful-soup-python-installation-not-working
You can reinstall the BeautifulSoup package using pip
#+BEGIN_SRC  
sudo python2 -m pip uninstall beautifulsoup4 
sudo python3 -m pip install beautifulsoup4
#+END_SRC

https://www.google.com/search?q=You+are+trying+to+run+the+Python+2+version+of+Beautiful+Soup+under+Python+3&ie=utf-8&oe=utf-8
** DONE 如何解决运行bs4脚本警告"No parser was explicitly specified"？
   CLOSED: [2017-06-26 Mon 17:51]
？运行bs4脚本。

https://www.google.com/search?q=No+parser+was+explicitly+specified&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/33511544/how-to-get-rid-of-beautifulsoup-user-warning

修改
#+BEGIN_SRC  
bsObj = BeautifulSoup(html.read())
#+END_SRC
为
#+BEGIN_SRC  
bsObj = BeautifulSoup(html.read(),"lxml")
#+END_SRC
书内容过时。

** 什么是pip？
？安装bs库使用。

https://docs.python.org/3/installing/index.html
** 什么是pip和python version的关系？
？使用pip安装bs4。

https://www.google.com/search?q=pip+version+python
** 如何检索pip使用的默认python version？

https://www.google.com/search?q=pip+tutorial
https://packaging.python.org/tutorials/installing-packages/
** 如何在virtualenv下使用pip install？
？解决安装bs4提示"Requirement already satisfied"

** 如何使用virtualenv？
？避免python版本环境冲突（fedora24的dnf依赖python2，学习使用的python版本是3）。

https://docs.python.org/3/installing/index.html
virtualenv

Python网络数据采集 p6
#+BEGIN_SRC  
# 创建虚拟环境
virtualenv $path

# 激活虚拟环境
source "$path/bin/activate" # shell脚本

# 取消激活虚拟环境
deactivate

#+END_SRC

https://www.google.com/search?q=virtualenv
http://pythonguidecn.readthedocs.io/zh/latest/dev/virtualenvs.html
#+BEGIN_SRC  
virtualenv -p "$python_interpreter_path" "$venv_dir" # /usr/bin/python2.7
#+END_SRC

** DONE 如何检索virtualenv目录的python版本？
   CLOSED: [2017-06-26 Mon 13:22]
？学习爬虫。

https://www.google.com/search?q=how+to+know+virtualenv+python+version
https://stackoverflow.com/questions/1534210/use-different-python-version-with-virtualenv
#+BEGIN_SRC  
# which
which python

# type
type python

# ls -l
ls -l $env/bin
#+END_SRC

https://stackoverflow.com/questions/44753233/what-is-the-right-way-to-know-the-python-version-used-by-virtualenv-directory
#+BEGIN_SRC  
source test_proj/bin/activate
python --version
#+END_SRC

** DONE 如何安装python beautifulsoup？
   CLOSED: [2017-06-26 Mon 10:19]
？学习爬虫。

Python网络数据采集 p5
#+BEGIN_SRC  
sudo pip install beautifulsoup4
#+END_SRC

检验
#+BEGIN_SRC  
# 进入python交互程序检验。
from bs4 import BeautifulSoup
#+END_SRC

** DONE 如何使用linux dd制作fedora安装优盘？
   CLOSED: [2017-06-21 Wed 19:53]
？解决ultraiso、poweriso写入优盘无法启动的问题。

http://hongxchen.github.io/2014/07/19/making-fedora-usb-media-with-dd/
很多人在windows下直接用一些工具直接将iso写入U盘或者硬盘，这个是U盘安装windows的方法，在fedora上是不行的，因为fedora的iso其实是分轨镜像，在一个iso镜像里有若干个分区，正确的方法是在Linux或者mac下使用dd来做，windows请下载MinGW。

#+BEGIN_SRC  
iso="/home/yjr/Downloads/Fedora-Workstation-Live-x86_64-24-1.2.iso"
disk="/dev/sdc"

dd if="$iso" of="$disk"
#+END_SRC

adata威刚成功，netac朗科失败

** 如何检索fdisk中l选项的详细信息？
https://www.google.com/search?q=partition+type+partition+table
https://en.wikipedia.org/wiki/Partition_type

** 如何检索笔记本电脑主板是uefi或efi或bios类型？
   
https://www.google.com/search?q=how+to+know+motherboard+uefi+bios
http://www.thewindowsclub.com/check-if-uefi-or-bios
#+BEGIN_SRC  
If your PC supports UEFI, then if you go through your BIOS settings, you will see the Secure Boot option.
#+END_SRC
** 什么是grub2优盘dos gpt分区表区别？ 
** 如何解决linux umount报错"target is busy"？
？解决拔出优盘问题。
** DONE 如何设置软件工程目录（测试）的各目录？
   CLOSED: [2017-06-23 Fri 00:17]
？开发grub2脚本需要使用。

https://www.google.com/search?q=junit+目录+结构&ie=utf-8&oe=utf-8
http://blog.csdn.net/jadyer/article/details/9280581
test是src子目录。

https://www.google.com/search?q=maven+unit+test+hierarchy
https://stackoverflow.com/questions/1540324/java-unit-tests-directory-layout
http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html
#+BEGIN_SRC  
module/
  src/
    main/
      java/
    test/
      java/
#+END_SRC

选择apache的目录结构。

** 如何设置emacs shell当前目录为emacs dired当前目录？
？高效率设置emacs shell默认目录。
** 如何解决emacs shell调用bash脚本输入密码为明文？
？保护隐私。
** DONE 什么是yasnippet目录？
   CLOSED: [2017-06-22 Thu 19:35]
？上传到github。

http://joaotavora.github.io/yasnippet/
http://joaotavora.github.io/yasnippet/snippet-organization.html
~/.emacs.d/snippets
** DONE 如何编写软件文档？
   CLOSED: [2017-06-22 Thu 19:21]
？用于相关人员检索参考。

https://en.wikipedia.org/wiki/Software_documentation
https://zh.wikipedia.org/wiki/软件文档
软件工程 9ed
需求工程

#+BEGIN_SRC  
目录结构
引言 Introduce
User
教程 Tutorial
手册 Manual
问题 FAQ
Developer
需求 Requirement
设计 Design
实现&测试 Implement&Test
运维 Maintance

#+END_SRC
** DONE 如何解决linux date +%X不是24小时制？
   CLOSED: [2017-06-22 Thu 18:22]
？用于git commit，默认信息为时间。

https://www.google.com/search?biw=1920&bih=853&q=date++%X+why+pm+am
http://man.linuxde.net/date
#+BEGIN_SRC  
date +"%F %H:%M:%S"
#+END_SRC
** DONE 哪个好，环境变量PATH放在bashrc或bash_profile？
   CLOSED: [2017-06-22 Thu 14:56]
？解决环境变量放置问题，避免部署时，行动产生歧义。

https://www.google.com/search?q=path+bashrc+bash_profile&ie=utf-8&oe=utf-8
https://unix.stackexchange.com/questions/26047/how-to-correctly-add-a-path-to-path
Note that ~/.bash_rc is not read by any program, and ~/.bashrc is the configuration file of interactive instances of bash.

总结：bash_profile更稳定，bashrc更方便（新增export，无需重新登录，新建terminal即可）

** 如何git commit不输入信息message？
？高效率commit。

** 如何解决xargs并行执行时输出顺序混乱？
？解决并行ping时，输出乱序。

https://www.google.com/search?biw=1920&bih=853&q=ping+xargs+顺序
https://stackoverflow.com/questions/14439755/how-to-ping-each-ip-in-a-file
#+BEGIN_SRC  
cat ips | xargs echo ping -c 2
#+END_SRC

https://www.google.com/search?biw=1920&bih=853&q=ping+xargs+并行
https://www.zhihu.com/question/20082099
整个命令用（）套上重定向就行。

** DONE 什么是xargs -i -I的区别？
   CLOSED: [2017-06-22 Thu 12:44]
？解决xargs指定参数位置时，选项-i、-I的理解。

https://www.google.com/search?q=xargs+并行&ie=utf-8&oe=utf-8
https://www.zhihu.com/question/20082099
https://stackoverflow.com/questions/845863/how-to-use-in-an-xargs-command
-I指定参数的位置符号，-i默认使用{}作为参数的位置符号。
#+BEGIN_SRC  
ls -1 | xargs -I{} "grep ABC '{}' > '{}'.out"
#+END_SRC

** DONE 如何xargs指定参数位置？
   CLOSED: [2017-06-22 Thu 12:37]
？用于ping命令指定ip参数位置。

https://www.google.com/search?q=+xargs+specific&ie=utf-8&oe=utf-8
http://www.linuxask.com/questions/how-to-adjust-the-argument-position-in-xargs
#+BEGIN_SRC  
echo "foo" | xargs -i echo {} "bar"
#+END_SRC

** DONE 如何bash读取cat here doc内联输入重定向<<的内容？（如何bash从标准输入stdin读取多行内容？）
   CLOSED: [2017-06-22 Thu 12:16]
？用于批量生成ss脚本。

Linux命令行与Shell脚本编程大全 2ed p209

https://stackoverflow.com/questions/41563044/how-to-use-shell-keyword-select-to-get-parameters-by-pipeline
#+BEGIN_SRC  
mapfile -t input </dev/stdin
readarray -t input </dev/stdin
#+END_SRC

- https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html
readarray
A synonym for mapfile. 

https://www.google.com/search?q=how+to+read+from+standard+input+bash&ie=utf-8&oe=utf-8
https://stackoverflow.com/questions/6980090/how-to-read-from-file-or-stdin-in-bash
#+BEGIN_SRC  
while read line
do
  echo "$line"
done < "${1:-/dev/stdin}"
#+END_SRC
https://stackoverflow.com/questions/212965/how-to-read-mutliline-input-from-stdin-into-variable-and-how-to-print-one-out-in
#+BEGIN_SRC  
myVar=$(</dev/stdin)
#+END_SRC

** 如何使用grub2引导winpe？
？测试出结果再归纳。
https://www.google.com/search?q=grub2+winpe
http://www.xzcblog.com/post-243.html
首先我们要获得syslinux的memdisk模块，如果是Linux系统那么基本上都自带了此模块。
/usr/lib/syslinux/memdisk

#+BEGIN_SRC  
find / -name *memdis*
#+END_SRC

menuentry 'Boot Windows PE ISO'{
		#set root='(hd0,msdos1)'
		echo 'Loading Memdisk...'
		#insmod memdisk
		linux16 /boot/memdisk iso raw
		echo 'Loading ISO...'
		initrd16 (hd1,msdos8)/iso/PE2013.iso
}
** 如何解决grub2 shell加载模块报错"file not found memdisk"
？解决grub2引导winpe。 

https://www.google.com/search?biw=960&bih=853&q=grub+shell+file+not+found+memdisk
https://unix.stackexchange.com/questions/48823/new-menu-entry-in-grub2-file-not-found-and-you-need-to-load-the-kernel-first
Because you have a dedicated /boot partition ( you probably don't need one ), that partition has no directory named /boot, hence why the files are not found. Remove the /boot from the path.
** 如何grub2 shell切换分区？
？需要加载不在/boot分区里的iso镜像文件（因为/boot空间不足）

https://www.google.com/search?q=how+to+change+boot+partition+grub2+shell
https://askubuntu.com/questions/84501/how-can-i-change-convert-a-ubuntu-mbr-drive-to-a-gpt-and-make-ubuntu-boot-from
#+BEGIN_SRC  

#+END_SRC
https://www.linux.com/learn/how-rescue-non-booting-grub-2-linux
#+BEGIN_SRC  
What's all this msdos stuff? That means this system has the old-style MS-DOS partition table, rather than the shiny new Globally Unique Identifiers partition table (GPT).
#+END_SRC
** 如何linux增加分区空间？
？解决fedora虚拟机/boot分区空间不足放入winpe的iso镜像，grub2无法加载镜像的问题。
** DONE 如何查看linux分区的文件系统类型？
   CLOSED: [2017-06-21 Wed 23:55]
？用于grub2切换分区时，加载文件系统的模块，解决"error unknown filesystem"问题。

https://www.google.com/search?q=linux+how+to+know+partition+filesystem+type
https://askubuntu.com/questions/309047/how-do-i-find-out-what-filesystem-my-partitions-are-using
#+BEGIN_SRC  
df -T
#+END_SRC
** 如何解决grub2 shell切换分区报错"error unknown filesystem"？

** 如何进入grub2 shell？
？用于测试加载memdisk模块，引导winpe镜像。

#+BEGIN_SRC  
c #grub2提示
#+END_SRC

** DONE 如何解决virtualbox fedora linux安装addition增强包报错"failed to set up service vboxadd"
   CLOSED: [2017-06-22 Thu 21:12]
？用于从宿主拷贝winpe镜像到虚拟机，测试grub2。

新安装的fedora24。
   
https://www.google.com/search?q=failed+to+set+up+service+vboxadd+fedora
https://ask.fedoraproject.org/en/question/89829/error-adding-guest-additions-in-f24/
#+BEGIN_SRC  
# 测试后，主要是kernel-devel没装。
sudo dnf update # 更新repo，之后就可以使用tab补全kernel-devel了。

sudo dnf install kernel-devel # tab补全

# 安装增强包
cd /run/media/$your_name/$VBox # 补全用户名和VB目录，2次
sudo ./VBoxL # tab补全

# 安装完毕，reboot
#+END_SRC

** TODO 如何解决virtualbox fedora linux挂载共享文件报错"unknown filesystem type vboxsf"？
？用于拷贝宿主的winpe镜像，测试grub2。

https://www.google.com/search?q=unknown+filesystem+type+vboxsf&ie=utf-8&oe=utf-8
https://askubuntu.com/questions/456400/why-cant-i-access-a-shared-folder-from-within-my-virtualbox-machine
安装addition增强包。


** DONE 如何宿主共享文件夹给virtualbox fedora linux？
   CLOSED: [2017-06-21 Wed 21:14]
？用于下载grub2引导winpe用的镜像。

https://www.google.com/search?q=virtualbox+linux+shared+folder
https://serverfault.com/questions/674974/how-to-mount-a-virtualbox-shared-folder/674978
#+BEGIN_SRC  
dir="Downloads"

mkdir ~/share
sudo mount -t vboxsf "$dir" ~/share/
#+END_SRC


** TODO 如何解决插入优盘被virtualbox windows虚拟机优先识别？
？解决制作安装优盘时，fdisk -l查看不到优盘。

virtualbox manager - 右键 - usb
删除filter内容即可。

没有文档支持。
** DONE 如何修改grub2启动界面内容？
   CLOSED: [2017-06-21 Wed 19:28]
？用于测试grub2。

https://www.google.com/search?q=grub2+启动
http://blog.csdn.net/lu_embedded/article/details/44353499
/boot/grub/grub.cfg
#+BEGIN_SRC  
sudo vim /boot/grub/grub2.cfg # fedora 24 重命名grub为grub2

# /menuentry 检索到菜单位置。
#+END_SRC
** 如何使用grub2安装fedora？
为什么使用grub2？fedora 24使用grub2,而不是grub

https://www.google.com/search?q=gpt+mbr+分区表&ie=utf-8&oe=utf-8
http://news.mydrivers.com/1/503/503560.htm
UEFI和GPT是相辅相成的，二者缺一不可，要想使用GPT分区表则必须是UEFI BIOS环境。

[%m:%~] $ grub2-install --force --no-floppy --boot-directory=/mnt/gr /dev/sdb
Installing for x86_64-efi platform.
grub2-install: error: cannot find EFI directory.

https://www.baidu.com/s?wd=grub2%20优盘
http://blog.csdn.net/u010875635/article/details/70170129
fdisk将优盘分区表变为gpt
#+BEGIN_SRC  
grub2-install --no-floppy --root-directory=/mnt/gr /dev/sdc1

# 安装成功
#+END_SRC

** TODO 如何制作grub2 bios mbr安装优盘？
？解决暂时没有uefi gpt文档，学习bios mbr，再学习uefi gpt。

https://www.google.com/search?q=优盘+安装+grub2+urfi
http://bbs.archlinuxcn.org/viewtopic.php?id=2954

#+BEGIN_SRC  
mount /dev/sdb1 /mnt

grub2-install --target=i386-pc --recheck --boot-directory=/mnt /dev/sdb
# 安装失败
#+END_SRC

https://www.google.com/search?biw=1920&bih=861&q=grub2+U盘+安装
https://www.zouyesheng.com/install-grub-on-udisk.html
#+BEGIN_SRC  
# 切换为root
su

fdisk -l # 查看，避免误删除

device="/dev/sdc"
mnt_point="/mnt"

cfg="/boot/grub2/grub.cfg" # 需要文档

partition="${device}1" # 默认分区1。
target_cfg_dir="${mnt_point}/boot/grub2"

cat<<end
$device
$mnt_point
$cfg
$partition
$target_cfg_dir
end

umount "$partition"
mkfs.vfat -F 32 -n MULTIBOOT "$partition"

# 安装grub2
mount "$partition" "$mnt_point"
grub2-install --force --no-floppy --root-directory="$mnt_point" "$device"

# 复制备份文件，不规范，应该是自动生成。缺乏文档，需要补上
cp "$cfg" "$target_cfg_dir"

# u3000成功，k650不成功。

cp /boot/extlinux/memdisk /mnt/boot/

#+END_SRC

** 如何避免误删除或误格式化？
？解决安装grub2误操作问题。
** DONE 什么是bios和uefi的区别？
   CLOSED: [2017-06-23 Fri 12:39]
？解决fdisk操作优盘时，选择分区表类型。

https://www.google.com/search?q=bios&ie=utf-8&oe=utf-8
https://en.wikipedia.org/wiki/BIOS
BIOS is non-volatile firmware.

https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface
UEFI is firmware.

https://en.wikipedia.org/wiki/BIOS
https://en.wikipedia.org/wiki/Firmware
firmware is a type of software that provides control, monitoring and data manipulation of engineered products and systems.


** DONE 什么是优盘分区表和grub2的关系？
   CLOSED: [2017-06-23 Fri 14:13]
？使用优盘启动，需要知道其关系。

https://www.google.com/search?q=grub2+mbr+gpt
https://wiki.gentoo.org/wiki/GRUB2/zh-cn
bios主板可以使用mbr、gpt引导，uefi主板使用gpt引导。
https://wiki.archlinux.org/index.php/GRUB_(简体中文)

https://www.google.com/search?q=uefi+only+gpt&ei=cp1MWYXCA4qF8gW2k5PwAg&start=10&sa=N&biw=1920&bih=861
https://community.acer.com/t5/Legacy-Laptops-and-Netbooks/UEFI-BIOS-MBR-GPT-disks-and-multi-boot/m-p/271940
UEFI ONLY supports GPT disks

https://www.google.com/search?q=bios+支持+gpt
https://wzyboy.im/post/1049.html
2009 年之后的主板基本是 BIOS + UEFI 双配置
http://www.cfan.com.cn/2016/0905/127259.shtml
BIOS只支持MBR引导系统，而GPT仅支持UEFI引导系统。所以，现在电脑的主板大多采用BIOS集成UEFI，或UEFI集成BIOS的方式达到同时兼容MBR和GPT引导系统的目的。

https://www.google.com/search?biw=1920&bih=861&q=bios+只支持+mbr
http://iknow.lenovo.com/detail/dc_123214.html
BIOS只支持MBR引导系统，而GPT仅可用UEFI引导系统。

** DONE 什么是grub2-install和grub-install区别？
   CLOSED: [2017-06-23 Fri 11:56]
？fedora 24只有grub2-install。

man grub2-install

https://www.google.com/search?q=grub2-install命令
https://www.ibm.com/developerworks/cn/linux/l-grub2/
有些发行版将命令重命名为 grub2-install。

** 如何解决umount: /mnt/gr: target is busy？
？解决无法卸载grub2优盘。
** 如何解决grub2没有/boot/grub/menu.lst文件？
？配置菜单项。

https://www.google.com/search?q=grub2+menu.lst&ie=utf-8&oe=utf-8
https://www.howtogeek.com/196655/how-to-configure-the-grub2-boot-loaders-settings/
GRUB2 doesn’t use a menu.lst file. Instead, its main configuration file is the /boot/grub/grub.cfg file.
Your own GRUB settings are stored in the /etc/default/grub file. Edit this file to change GRUB2’s settings. 

fedora2 24： /boot/grub2/grub.cfg
** DONE 什么是磁盘分区表的区别？
   CLOSED: [2017-06-21 Wed 18:53]
？用于制作grub启动盘。

https://www.google.com/search?q=分区表+dos+gpt
http://dengqi.blog.51cto.com/5685776/1348951
MBR磁盘分区是一种使用最为广泛的分区结构，它也被称为DOS分区结构，但它并不仅仅应用于Windows系统平台，也应用于Linux，基于X86的UNIX等系统平台。它位于磁盘的0号扇区（一扇区等于512字节），是一个重要的扇区（简称MBR扇区）。

https://www.google.com/search?q=mbr+dos+difference
https://serverfault.com/questions/42608/what-is-the-difference-between-a-dos-and-solaris-mbr
I believe the difference is that DOS uses the IBM Standard Master Boot Record format defined by IBM back in the early 80's
** 如何使用windows制作fedora usb优盘安装盘？
https://www.google.com/search?q=制作+usb+fedora++安装盘


使用ultraiso启动会报错"Warning: dracut-initqueue timeout - starting timeout scripts"
使用poweriso启动会报错"Warning: dracut-initqueue timeout - starting timeout scripts"
https://www.google.com/search?q=warning+dracut-initqueue+timeout&ie=utf-8&oe=utf-8

** DONE 如何linux cli shell格式化优盘为ntfs？
   CLOSED: [2017-06-21 Wed 15:52]
？使用优盘传输fedora iso。

ref 鸟哥的Linux私房菜 基础学习篇 3ed p217
fdisk mkfs

https://www.google.com/search?biw=1920&bih=861&q=fdisk+ntfs
https://unix.stackexchange.com/questions/252625/how-can-i-use-fdisk-to-create-a-ntfs-partition-on-dev-sdx

#+BEGIN_SRC  
sudo fdisk $dev

sudo mkfs.ntfs $partition --fast
#+END_SRC
** 如何解决linux格式化优盘时报错"Re-reading the partition table failed.: Device or resource busy"？
？解决格式化完毕后报错。

** DONE 如何linux快速格式化优盘？
   CLOSED: [2017-06-21 Wed 15:43]
？mkfs.ntfs格式化太慢，因为使用0填充优盘。

https://www.google.com/search?q=mkfs+ntfs+fast
-f或--fast参数 

** DONE 如何选择usb优盘的文件系统格式？
   CLOSED: [2017-06-21 Wed 13:40]
？用于通用windows、linux、mac

https://www.google.com/search?q=linux+mac+通用+格式
https://www.v2ex.com/t/96483
ntfs

https://www.google.com/search?q=windows+linux++通用+格式
https://www.zhihu.com/question/20448164
hfs+
ext4

https://www.google.com/search?q=mac+支持+ext
http://bbs.feng.com/read-htm-tid-7503752.html
mac不支持ext4

** 如何使用loopback loop命令？
？解决grub2引导指定镜像iso。

https://www.google.com/search?q=loopback+grub2
https://www.gnu.org/software/grub/manual/grub.html#loopback
Make the device named device correspond to the contents of the filesystem image in file. For example: 
** DONE 如何下载指定版本的fedora iso镜像？
   CLOSED: [2017-06-21 Wed 20:11]
？解决环境统一或上下文一致问题，避免软件因为环境异常。

https://www.google.com/search?q=fedora+old+version
https://dl.fedoraproject.org/pub/fedora/linux/releases/

** 如何安装fedora linux？
** 如何使用linux制作fedora usb安装盘？
** 如何git到github？
** DONE 如何解决git clone时报错目录不为空"fatal: destination path '.' already exists and is not an empty directory."？
   CLOSED: [2017-06-21 Wed 11:42]
？用于添加新文件到已存在git仓库里。
https://www.google.com/search?q=fatal:+destination+path+'.'+already+exists+and+is+not+an+empty+directory.
http://carl830.pixnet.net/blog/post/61044299-git-想把檔案匯到某個存在的目錄下
#+BEGIN_SRC  
git init
git remote add origin $gitpath
git fetch
git branch master origin/master
git checkout master
#+END_SRC
** 170620
** 如何fedora安装sougou搜狗输入法？

https://www.google.com/search?q=fcitx+搜狗+fedora
http://haoma.sogou.com/bbs/forum.php?mod=viewthread&tid=2592776

#+BEGIN_SRC  
# 安装fcitx框架以及配置工具
sudo dnf install fcitx fcitx-configtool -y

# 下载安装sougou输入法 
url="http://cdn2.ime.sogou.com/dl/index/1491565850/sogoupinyin_2.1.0.0086_amd64.deb?st=Kj48P6ir4tzyKa3NvRUwsA&e=1497962043&fn=sogoupinyin_2.1.0.0086_amd64.deb"
name=sougou.deb
wget $url -O ./$name
ar vx ./$name
sudo tar -Jxvf data.tar.xz  -C /

# 用sogou的库覆盖fcitx原生的库,此步必须有!!
sudo cp /usr/lib/x86_64-linux-gnu/fcitx/fcitx-sogoupinyin.so  /usr/lib64/fcitx/fcitx-sogoupinyin.so
#+END_SRC

#+BEGIN_SRC  
# 添加到shell的profile文件中，bash为"~/.bash_profile"
export XIM=fcit
export XIM_PROGRAM=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS="@im=fcitx"
eval `dbus-launch --sh-syntax --exit-with-session` # 解决terminal下不能用fcitx问题
fcitx & # 使fcitx随系统启动
#+END_SRC
** DONE 如何wget指定下载文件名？
	 CLOSED: [2017-06-21 Wed 10:43]
？用于制作sougou安装脚本。

https://www.google.com/search?q=wget+指定+文件名&ie=utf-8&oe=utf-8
http://www.360doc.com/content/11/0526/22/606382_119642374.shtml
#+BEGIN_SRC  
-O
#+END_SRC
** DONE 如何检索tar包内容？
	 CLOSED: [2017-06-20 Tue 21:09]
？用于查看搜狗deb包解压后的data包。
#+BEGIN_SRC  
tar -tf data.tar.xz | less
#+END_SRC

** 如何linux安装fcitx输入法？
https://www.baidu.com/s?wd=fedora fcitx
http://blog.chinaunix.net/uid-14735472-id-5604579.html

https://www.google.com/search?q=ibus+fcitx&ie=utf-8&oe=utf-8
https://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&tid=522
sogou输入法使用的fcitx框架

https://www.google.com/search?q=安装+fcitx+fedora
https://my.oschina.net/hevakelcj/blog/482756#comment-list
http://blog.gaoyuan.xyz/2013/10/26/fcitx-fedora/

安装和配置fcitx
#+BEGIN_SRC bash 
# 分别安装fcitx框架、配置工具、输入法库
sudo dnf install fcitx fcitx-configtool fcitx-table-chinese -y

# 添加到shell的profile文件中，bash为"~/.bash_profile"
export XIM=fcit
export XIM_PROGRAM=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS="@im=fcitx"
eval `dbus-launch --sh-syntax --exit-with-session` # 解决terminal下不能用fcitx问题
fcitx & # 使fcitx随系统启动

# 重新登录或重新启动，因为login interactive shell会重新读取全局变量。
#+END_SRC

添加中文输入法
#+BEGIN_SRC  
fcitx configuration - input method - add
添加pinyin（去掉"only show current language"，搜索"pinyin"）
#+END_SRC

修改输入法快捷键。为什么？避免和emacs快捷键冲突。
#+BEGIN_SRC  
fcitx configuration - global config - hotkey - trigger input method
shift+space
#+END_SRC

添加云输入功能。为什么？智能补全生僻词汇
#+BEGIN_SRC  
# 安装fcitx-cloudpinyin
sudo dnf install fcitx-cloudpinyin -y

fcitx configuration - addon - cloud pinyin - cloud pinyin source
baidu
#+END_SRC

** DONE 如何切换fedora cli shell为gui shell？
	 CLOSED: [2017-06-20 Tue 19:29]
为什么切换？ 用于测试fcitx。

https://www.google.com/search?q=fedora+命令行启动&oq=fedora+命令行
http://blog.csdn.net/nightelve/article/details/17386661
vi /etc/inittab

fedora 24没有使用inittab文件来控制默认shell，/etc/inittab内容如下
#+BEGIN_SRC  
# inittab is no longer used.
#
# ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.
#
# Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target
#
# systemd uses 'targets' instead of runlevels. By default, there are two main targets:
#
# multi-user.target: analogous to runlevel 3
# graphical.target: analogous to runlevel 5
#
# To view current default target, run:
# systemctl get-default
#
# To set a default target, run:
# systemctl set-default TARGET.target
#+END_SRC

#+BEGIN_SRC  
systemctl get-default # 查看默认启动shell
systemctl set-default graphical.target # 默认gui启动
systemctl set-default multi-user.target # 默认cli启动
#+END_SRC

** DONE 如何virtualbox gui克隆镜像？
   CLOSED: [2017-06-21 Wed 11:44]
为什么？用于测试代码。

右键镜像 - clone
clone type: full clone
点击clone，等待完成。
